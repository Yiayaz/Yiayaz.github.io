<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=7.4.1">
  <link rel="mask-icon" href="/images/favicon.ico?v=7.4.1" color="#222">
  <link rel="alternate" href="/atom.xml" title="Yiayaz's Blog" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css?v=1.0.2">
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="C++ Prime 5">
<meta name="keywords" content="C++">
<meta property="og:type" content="article">
<meta property="og:title" content="C++ Prime 5">
<meta property="og:url" content="https://yiayaz.top/posts/C++_Prime_5/index.html">
<meta property="og:site_name" content="Yiayaz&#39;s Blog">
<meta property="og:description" content="C++ Prime 5">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://yiayaz.top/images/C++%20Prime%205%20&%202.5~2.7.png">
<meta property="og:updated_time" content="2021-04-17T14:12:29.609Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C++ Prime 5">
<meta name="twitter:description" content="C++ Prime 5">
<meta name="twitter:image" content="https://yiayaz.top/images/C++%20Prime%205%20&%202.5~2.7.png">
  <link rel="canonical" href="https://yiayaz.top/posts/C++_Prime_5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>C++ Prime 5 | Yiayaz's Blog</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yiayaz's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Welcome to my blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
        
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      
    
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">
        
          <i class="fa fa-search fa-fw"></i>
        
        Search
        </a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://yiayaz.top/posts/C++_Prime_5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yiayaz">
      <meta itemprop="description" content="A boaster and a liar are cousins-german.">
      <meta itemprop="image" content="/images/header2.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yiayaz's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            C++ Prime 5
            

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2021-04-05 21:42:00" itemprop="dateCreated datePublished" datetime="2021-04-05T21:42:00+08:00">2021-04-05</time>
            </span>
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
          
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">Symbols count in article: </span>
              
              <span>57k</span>
            </span>
          
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              
                <span class="post-meta-item-text">Reading time &asymp;</span>
              
              <span>51 mins.</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong><center>C++ Prime 5</center></strong></p>
<a id="more"></a>
<h1 id="习题部分"><a href="#习题部分" class="headerlink" title="习题部分"></a>习题部分</h1><h2 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h2><h3 id="1-9"><a href="#1-9" class="headerlink" title="1.9"></a>1.9</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">50</span>;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= <span class="number">100</span>) ans = i++;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-10"><a href="#1-10" class="headerlink" title="1.10"></a>1.10</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; i-- &lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-11"><a href="#1-11" class="headerlink" title="1.11"></a>1.11</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> &amp;a,<span class="keyword">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"please input two integers\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; i &gt;&gt; j;</span><br><span class="line">    <span class="keyword">if</span>(i &gt; j) swap(i,j);</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= j) <span class="built_in">cout</span> &lt;&lt; i++ &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-12"><a href="#1-12" class="headerlink" title="1.12"></a>1.12</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">-100</span>; i &lt;= <span class="number">100</span>; ++i) sum += i;</span><br><span class="line"><span class="comment">//实际上就是从-100加到100，sum为0</span></span><br></pre></td></tr></table></figure>
<h3 id="1-14"><a href="#1-14" class="headerlink" title="1.14"></a>1.14</h3><p>实际上表达能力是一样的, 如果按照规范来写for循环,可以尽量缩小局部变量的作用范围.</p>
<p>for 循环和 while 循环会在 loop statement 前多做一次 conditional jump, do while 则不会.</p>
<h3 id="1-16"><a href="#1-16" class="headerlink" title="1.16"></a>1.16</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num))&#123;</span><br><span class="line">        sum += num;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; sum &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h2><h3 id="2-1"><a href="#2-1" class="headerlink" title="2.1"></a>2.1</h3><p>C++ guarantees short and int is at least 16 bits, long at least 32 bits, long long at least 64 bits.<br>The signed can represent positive numbers, negative numbers and zero, while unsigned can only represent numbers no less than zero.<br>The C and C++ standards do not specify the representation of float, double and long double. It is possible that all three implemented as IEEE double-precision.</p>
<h3 id="2-2"><a href="#2-2" class="headerlink" title="2.2"></a>2.2</h3><p>use double, or also float.</p>
<h3 id="2-3-amp-2-4"><a href="#2-3-amp-2-4" class="headerlink" title="2.3 &amp; 2.4"></a>2.3 &amp; 2.4</h3><p>在表达式内如果有了无符号数，最后是一个负值，那么编译器会取模。</p>
<h3 id="2-5-2-7"><a href="#2-5-2-7" class="headerlink" title="2.5 ~ 2.7"></a>2.5 ~ 2.7</h3><p><img src="/images/C++ Prime 5 &amp; 2.5~2.7.png" alt></p>
<p>十进制：20 &amp; 八进制：020 &amp; 十六进制：0x20或者0X20</p>
<h3 id="2-8"><a href="#2-8" class="headerlink" title="2.8"></a>2.8</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"2M"</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">'2'</span> &lt;&lt; <span class="string">'\t'</span> &lt;&lt; <span class="string">'M'</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-9"><a href="#2-9" class="headerlink" title="2.9"></a>2.9</h3><p>先定义 &amp; 3.14被强转为3 &amp; wage未定义 &amp; 同2</p>
<h3 id="2-10"><a href="#2-10" class="headerlink" title="2.10"></a>2.10</h3><p>glo_str = “” &amp; glo_int = 0 &amp; loc_int 不确定 &amp; loc_str = “”</p>
<h3 id="2-11"><a href="#2-11" class="headerlink" title="2.11"></a>2.11</h3><p>定义 &amp; 定义 &amp; 声明</p>
<h3 id="2-12"><a href="#2-12" class="headerlink" title="2.12"></a>2.12</h3><p><strong>字母+数字+下划线（必须以字母或者下划线开头）</strong></p>
<p><strong>C++中关于变量命名的规范：</strong></p>
<ol>
<li><strong>能体现变量的实际意义</strong></li>
<li><strong>变量名一般采用小写字母</strong></li>
<li><strong>用户自定义类名一般以大写字母开头</strong></li>
<li><strong>多个单词定义的变量名应有区分Student_loan  而不是  Studentloan</strong></li>
</ol>
<p>错，double 是关键字 &amp; 对 &amp; 不能带- &amp; 不能数字开头 &amp; 对</p>
<h3 id="2-13"><a href="#2-13" class="headerlink" title="2.13"></a>2.13</h3><p>j = 100，因为在这个语句块内，局部变量 i(100) 生效，如果想用全局变量 i(42) ，可以使用 j = ::i;</p>
<h3 id="2-14"><a href="#2-14" class="headerlink" title="2.14"></a>2.14</h3><p>i = 100, sum=45, for循环语句内的i只活在该语句内，而 std::cout 在main语句块内，自然是取得100</p>
<h3 id="2-15"><a href="#2-15" class="headerlink" title="2.15"></a>2.15</h3><p>可以 &amp; 不行，引用需绑定对象 &amp; 可以 &amp; 不行，引用必须初始化</p>
<h3 id="2-16"><a href="#2-16" class="headerlink" title="2.16"></a>2.16</h3><p>隐式类型转换</p>
<h3 id="2-17"><a href="#2-17" class="headerlink" title="2.17"></a>2.17</h3><p>10 10，等于给 i = 5 后 i = 10</p>
<h3 id="2-18"><a href="#2-18" class="headerlink" title="2.18"></a>2.18</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>, b =<span class="number">2</span>, *p = a;</span><br><span class="line">*p = <span class="number">10</span>;<span class="comment">//更改指针所指对象的指</span></span><br><span class="line">p = &amp;b;<span class="comment">//更改指针的值</span></span><br></pre></td></tr></table></figure>
<h3 id="2-19"><a href="#2-19" class="headerlink" title="2.19"></a>2.19</h3><p>指针自己本身就是一个对象，指针之间可以相互赋值和拷贝，在其生命周期内还可指向不同的对象 &amp; 引用在汇编代码中就是指针常量</p>
<p>指针无需在定义时初始化 &amp; 引用必须初始化</p>
<p>指针需要解引用 &amp; 引用不需要</p>
<h3 id="2-20"><a href="#2-20" class="headerlink" title="2.20"></a>2.20</h3><p>42的平方</p>
<h3 id="2-21"><a href="#2-21" class="headerlink" title="2.21"></a>2.21</h3><p>非法，类型不一 &amp; 非法，无取地址符号 &amp; 合法</p>
<h3 id="2-22"><a href="#2-22" class="headerlink" title="2.22"></a>2.22</h3><p>如果指针不是空&amp;如果指针指向的对象的值不是0</p>
<h3 id="2-24"><a href="#2-24" class="headerlink" title="2.24"></a>2.24</h3><p>因为 long 与 int 类型不匹配，而 void 指针可以接收任意类型的指针</p>
<p>因为 void 指针只知道头地址，它并不需要该对象的长度</p>
<h3 id="2-25"><a href="#2-25" class="headerlink" title="2.25"></a>2.25</h3><p>int 指针 ip，int 变量 i，int 引用 r 绑定 i &amp; int 变量 i，int 指针 p 为空 &amp; ip 指针，ip2 变量</p>
<h3 id="2-26"><a href="#2-26" class="headerlink" title="2.26"></a>2.26</h3><p>错，没有初始化 &amp; 对 &amp; 对 &amp; ++sz 错误，常量不更改</p>
<h3 id="2-27"><a href="#2-27" class="headerlink" title="2.27"></a>2.27</h3><p>错，引用需要绑定对象 &amp; 如果 i2 不是 const 就对 &amp; 同1 &amp; 对 &amp; 对 &amp; 错，没有引用的 const，引用不是对象 &amp; 对</p>
<h3 id="2-28"><a href="#2-28" class="headerlink" title="2.28"></a>2.28</h3><p>指针常量需初始化 &amp; 同1 &amp; 常量 ic 需初始化 &amp; 同1 &amp; 对</p>
<h3 id="2-29"><a href="#2-29" class="headerlink" title="2.29"></a>2.29</h3><p>对 &amp; const int 和 int 不对等 &amp; 同上 &amp; 错，指针常量不能更改其值 &amp; 同上 &amp; 常量不能改变</p>
<h3 id="2-30"><a href="#2-30" class="headerlink" title="2.30"></a>2.30</h3><p>顶层 &amp; 底层 &amp; 顶层 &amp; 底层</p>
<h3 id="2-31"><a href="#2-31" class="headerlink" title="2.31"></a>2.31</h3><p>对 &amp; 错，底层 const &amp; 对 &amp; 同2 &amp; 对</p>
<h3 id="2-32"><a href="#2-32" class="headerlink" title="2.32"></a>2.32</h3><p>*p = nullptr;</p>
<h3 id="2-33-amp-2-34"><a href="#2-33-amp-2-34" class="headerlink" title="2.33 &amp; 2.34"></a>2.33 &amp; 2.34</h3><p>对 &amp; 对 &amp; 对 &amp; d 是整数指针 *d 就行 &amp; 错，解引用也不行，指向的是常量 &amp; g 是引用，ci 是常量</p>
<h3 id="2-35"><a href="#2-35" class="headerlink" title="2.35"></a>2.35</h3><p>int &amp; const int 引用 &amp; const int 指针 &amp; const int &amp; 同2</p>
<h3 id="2-36-amp-2-37"><a href="#2-36-amp-2-37" class="headerlink" title="2.36 &amp; 2.37"></a>2.36 &amp; 2.37</h3><p>c int &amp; d int 引用</p>
<h3 id="2-38"><a href="#2-38" class="headerlink" title="2.38"></a>2.38</h3><p>decltype 处理顶层 const 和引用的方式与 auto 有些许不同。</p>
<p>decltype((var)) 的结果永远是引用。</p>
<p>如果使用的表达式是个变量，则 decltype 返回该变量的类型。</p>
<p>（包括顶层 const 和引用在内）</p>
<p>而 auto 会忽略顶层 const，以及直接识别引用绑定的对象。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>, &amp;r = i;</span><br><span class="line"><span class="comment">// same</span></span><br><span class="line"><span class="keyword">auto</span> a = i;</span><br><span class="line"><span class="keyword">decltype</span>(i) b = i;</span><br><span class="line"><span class="comment">// different</span></span><br><span class="line"><span class="keyword">auto</span> c = r;</span><br><span class="line"><span class="keyword">decltype</span>(r) d = i;</span><br></pre></td></tr></table></figure>
<h3 id="2-39"><a href="#2-39" class="headerlink" title="2.39"></a>2.39</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">D:\WorkSpace\C++\Test.cpp:<span class="number">5</span>:<span class="number">2</span>: 错误：结构定义后需要‘;’</span><br><span class="line"> &#125; <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line">  ^</span><br><span class="line">  ;</span><br></pre></td></tr></table></figure>
<h2 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h2><h3 id="3-1"><a href="#3-1" class="headerlink" title="3.1"></a>3.1</h3><p>头文件中不应使用using声明，以避免名字冲突</p>
<h3 id="3-2"><a href="#3-2" class="headerlink" title="3.2"></a>3.2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s;</span><br><span class="line">getline(<span class="built_in">cin</span>,s);</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; s);</span><br></pre></td></tr></table></figure>
<h3 id="3-3"><a href="#3-3" class="headerlink" title="3.3"></a>3.3</h3><p>对于 string 类的输入函数，它会自动忽略开头的空白（空格、制表符、换行等等），从第一个真正的字符开始直到下一个空白。</p>
<p>对于 getline() 函数，它会保存字符串中的空白符，它读入数据，直到遇到换行符位置。</p>
<h3 id="3-4"><a href="#3-4" class="headerlink" title="3.4"></a>3.4</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (s1 &gt; s2 ? s1 : s2) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (s1.size() &gt; s2.size() ? s1 : s2) &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h3 id="3-5"><a href="#3-5" class="headerlink" title="3.5"></a>3.5</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s1 + s2;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s1 + <span class="string">" "</span> + s2 &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h3 id="3-6"><a href="#3-6" class="headerlink" title="3.6"></a>3.6</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c : s)&#123;</span><br><span class="line">    C = <span class="string">'X'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-7"><a href="#3-7" class="headerlink" title="3.7"></a>3.7</h3><p>没有改变，因为变量只是 char 而不是 char 引用</p>
<h3 id="3-8"><a href="#3-8" class="headerlink" title="3.8"></a>3.8</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(i &lt; s.size())&#123;</span><br><span class="line">    s[i++]=<span class="string">'X'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; s.size();i++)&#123;</span><br><span class="line">    s[i++]=<span class="string">'X'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>范围for，写起来快</p>
<h3 id="3-9"><a href="#3-9" class="headerlink" title="3.9"></a>3.9</h3><p>不合法，越界了，或许确实可以输出一个空格，但是不要这么做</p>
<h3 id="3-10"><a href="#3-10" class="headerlink" title="3.10"></a>3.10</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:s)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">ispunct</span>(c))<span class="built_in">cout</span> &lt;&lt; c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-11"><a href="#3-11" class="headerlink" title="3.11"></a>3.11</h3><p>const char&amp;</p>
<h3 id="3-12"><a href="#3-12" class="headerlink" title="3.12"></a>3.12</h3><p>vector的初始化：</p>
<p>1：引用不可以成为vector的元素，因为其不是对象。</p>
<p>2：可以用花括号初始化每一个值。</p>
<p>3：可以用括号指定元素个数或相同的元素值</p>
<p>对 &amp; 不对，类型不一 &amp; 对</p>
<h3 id="3-13"><a href="#3-13" class="headerlink" title="3.13"></a>3.13</h3><p>0 &amp; 10个0 &amp; 10个42 &amp; 10 &amp; 10,42 &amp; 10个“” &amp; 10个“hi”</p>
<h3 id="3-14-amp-3-15"><a href="#3-14-amp-3-15" class="headerlink" title="3.14 &amp; 3.15"></a>3.14 &amp; 3.15</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; num) vec.push_back(num);</span><br></pre></td></tr></table></figure>
<h3 id="3-16"><a href="#3-16" class="headerlink" title="3.16"></a>3.16</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我选择for循环</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-17"><a href="#3-17" class="headerlink" title="3.17"></a>3.17</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; s)&#123;</span><br><span class="line">    vec.push_back(s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> ch:c)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">toupper</span>(ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-18"><a href="#3-18" class="headerlink" title="3.18"></a>3.18</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ivec.push_back(<span class="number">42</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-19"><a href="#3-19" class="headerlink" title="3.19"></a>3.19</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(<span class="number">10</span>,<span class="number">42</span>);<span class="comment">//The best</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec&#123;<span class="number">42</span>,..,<span class="number">42</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> a[]=&#123;<span class="number">42</span>,...,<span class="number">42</span>&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(a,a+<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-20"><a href="#3-20" class="headerlink" title="3.20"></a>3.20</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;vec.size()<span class="number">-1</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; vec[i]+vec[i+<span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;vec.size()/<span class="number">2</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; vec[i]+vec[n-i<span class="number">-1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-21"><a href="#3-21" class="headerlink" title="3.21"></a>3.21</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我选择for循环</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> c = s.cbegin();c != s.cend();c++)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *c &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-22"><a href="#3-22" class="headerlink" title="3.22"></a>3.22</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; text;</span><br><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s)) text.push_back(s);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> it = text.begin();it != text.end();it++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:*it) c=<span class="built_in">toupper</span>(c);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *it &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-23"><a href="#3-23" class="headerlink" title="3.23"></a>3.23</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(<span class="number">10</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:vec)&#123;</span><br><span class="line">    c&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-24"><a href="#3-24" class="headerlink" title="3.24"></a>3.24</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i=vec.begin();i!=end()<span class="number">-1</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *i+*(i+<span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> i=vec.begin(),j=vec.end();i!=j;i++,j--)&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; *i + *j &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-25"><a href="#3-25" class="headerlink" title="3.25"></a>3.25</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> c=vec.begin();c!=vec.end();c++)&#123;</span><br><span class="line">    sc[*c/<span class="number">10</span>]++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-26"><a href="#3-26" class="headerlink" title="3.26"></a>3.26</h3><p>因为vector迭代器并无加法运算符</p>
<h3 id="3-27"><a href="#3-27" class="headerlink" title="3.27"></a>3.27</h3><p>对 &amp; 对 &amp; 如果txt_size()函数是constexpr修饰的就可 &amp; 错，‘\0’放不下了</p>
<h3 id="3-28"><a href="#3-28" class="headerlink" title="3.28"></a>3.28</h3><p>十个“” &amp; 十个0 &amp; 十个“” &amp; 十个随机值</p>
<h3 id="3-29"><a href="#3-29" class="headerlink" title="3.29"></a>3.29</h3><ol>
<li>数组初始化必须知道大小</li>
<li>vector内置函数支持</li>
<li>vector自动扩容</li>
</ol>
<h3 id="3-30"><a href="#3-30" class="headerlink" title="3.30"></a>3.30</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ix &lt;= array_size <span class="comment">//ix &lt; array_size</span></span><br></pre></td></tr></table></figure>
<h3 id="3-31"><a href="#3-31" class="headerlink" title="3.31"></a>3.31</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    num[i]=i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-32"><a href="#3-32" class="headerlink" title="3.32"></a>3.32</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(num,num+<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-33"><a href="#3-33" class="headerlink" title="3.33"></a>3.33</h3><p>初始值未知，则最终的累加结果并无意义</p>
<h3 id="3-34"><a href="#3-34" class="headerlink" title="3.34"></a>3.34</h3><p>相当于p1=p2</p>
<h3 id="3-35"><a href="#3-35" class="headerlink" title="3.35"></a>3.35</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> *p=begin(num);p != end(num);p++)    *p=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<h3 id="3-36"><a href="#3-36" class="headerlink" title="3.36"></a>3.36</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> *p=begin(num1),*q=begin(num2);p != end(num1)&amp;&amp;q != end(num2);p++,q++)    <span class="keyword">if</span>(*p!=*q)    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> p=num1.begin(),q=num2.end();p != num1.end()&amp;&amp;q != num2.end();p++,q++)    <span class="keyword">if</span>(*p!=*q)    <span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>
<h3 id="3-37"><a href="#3-37" class="headerlink" title="3.37"></a>3.37</h3><p>hello，按字节输出</p>
<h3 id="3-38"><a href="#3-38" class="headerlink" title="3.38"></a>3.38</h3><p>两个地址相加得到的地址没什么实际意义，除非是目标地址就是这两个地址相加才能得到的，但这实在是没啥意义。</p>
<h3 id="3-39"><a href="#3-39" class="headerlink" title="3.39"></a>3.39</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(s1==s2);</span><br><span class="line"><span class="keyword">auto</span> ans = <span class="built_in">strcmp</span>(s1,s2);</span><br></pre></td></tr></table></figure>
<h3 id="3-40"><a href="#3-40" class="headerlink" title="3.40"></a>3.40</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> s1[] = <span class="string">"Hello"</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> s2[] = <span class="string">"world!"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">size_t</span> n = <span class="built_in">strlen</span>(s1) + <span class="built_in">strlen</span>(<span class="string">" "</span>) + <span class="built_in">strlen</span>(s2) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">char</span>* s3 = <span class="keyword">new</span> <span class="keyword">char</span>[n];</span><br><span class="line"> </span><br><span class="line"><span class="built_in">strcpy</span>(s3, s1);</span><br><span class="line"><span class="built_in">strcat</span>(s3, <span class="string">" "</span>);</span><br><span class="line"><span class="built_in">strcat</span>(s3, s2);</span><br></pre></td></tr></table></figure>
<h3 id="3-41"><a href="#3-41" class="headerlink" title="3.41"></a>3.41</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(num,num+<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-42"><a href="#3-42" class="headerlink" title="3.42"></a>3.42</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;vec.size();i++)    num[i] = vec[i];</span><br></pre></td></tr></table></figure>
<h3 id="3-43"><a href="#3-43" class="headerlink" title="3.43"></a>3.43</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>&#125;;</span><br><span class="line"><span class="comment">// 用于管理迭代的范围</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">int</span>(&amp;p)[<span class="number">4</span>] : ia)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> q : p) <span class="built_in">cout</span> &lt;&lt; q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用下标的普通for循环</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i != <span class="number">3</span>; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> j = <span class="number">0</span>; j != <span class="number">4</span>; ++j) <span class="built_in">cout</span> &lt;&lt; ia[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用指针</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span>(*p)[<span class="number">4</span>] = ia; p != ia + <span class="number">3</span>; ++p)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>* q = *p; q != *p + <span class="number">4</span>; ++q) <span class="built_in">cout</span> &lt;&lt; *q &lt;&lt; <span class="string">" "</span>;</span><br></pre></td></tr></table></figure>
<h3 id="3-44"><a href="#3-44" class="headerlink" title="3.44"></a>3.44</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用类型别名</span></span><br><span class="line"><span class="keyword">using</span> int_array = <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (int_array&amp; p : ia)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> q : p) <span class="built_in">cout</span> &lt;&lt; q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (int_array* p = ia; p != ia + <span class="number">3</span>; ++p)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>* q = *p; q != *p + <span class="number">4</span>; ++q) <span class="built_in">cout</span> &lt;&lt; *q &lt;&lt; <span class="string">" "</span>;</span><br></pre></td></tr></table></figure>
<h3 id="3-45"><a href="#3-45" class="headerlink" title="3.45"></a>3.45</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; p : ia)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> q : p) <span class="built_in">cout</span> &lt;&lt; q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>* p = ia; p != ia + <span class="number">3</span>; ++p)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>* q = *p; q != *p + <span class="number">4</span>; ++q) <span class="built_in">cout</span> &lt;&lt; *q &lt;&lt; <span class="string">" "</span>;</span><br></pre></td></tr></table></figure>
<h2 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h2><h3 id="4-1"><a href="#4-1" class="headerlink" title="4.1"></a>4.1</h3><p>105</p>
<h3 id="4-2"><a href="#4-2" class="headerlink" title="4.2"></a>4.2</h3><p><em>(vec.begin()) &amp; </em>(vec.begin())+1</p>
<h3 id="4-3"><a href="#4-3" class="headerlink" title="4.3"></a>4.3</h3><p>可以，编写者自己用括号强制约定就行，可读性也强</p>
<h3 id="4-4"><a href="#4-4" class="headerlink" title="4.4"></a>4.4</h3><p>((12 / 3) <em> 4) + (5 </em> 15) +((24 % 4) / 2) = 91</p>
<h3 id="4-5"><a href="#4-5" class="headerlink" title="4.5"></a>4.5</h3><p>-86 &amp; -18 &amp; 0 &amp; -2</p>
<h3 id="4-6"><a href="#4-6" class="headerlink" title="4.6"></a>4.6</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(num % <span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(num ^ <span class="number">1</span> == <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-7"><a href="#4-7" class="headerlink" title="4.7"></a>4.7</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span> a = <span class="number">32768</span>;</span><br><span class="line"><span class="keyword">unsigned</span> a = <span class="number">-10</span>;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">123456789</span>*<span class="number">123456789</span>;</span><br></pre></td></tr></table></figure>
<h3 id="4-8"><a href="#4-8" class="headerlink" title="4.8"></a>4.8</h3><p>逻辑与：左面为真再判断右面</p>
<p>逻辑或：先判断左面为假再判断右面</p>
<p>相等性运算符：右边的转换为左边的类型再与左边比较</p>
<h3 id="4-9"><a href="#4-9" class="headerlink" title="4.9"></a>4.9</h3><p>先看cp是否是空指针，随后看cp所指向的地方是否为空</p>
<h3 id="4-10"><a href="#4-10" class="headerlink" title="4.10"></a>4.10</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; num &amp;&amp; num != <span class="number">42</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-11"><a href="#4-11" class="headerlink" title="4.11"></a>4.11</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a&gt;b?(b&gt;c?(c&gt;d?<span class="literal">true</span>:<span class="literal">false</span>):<span class="literal">false</span>):<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-12"><a href="#4-12" class="headerlink" title="4.12"></a>4.12</h3><p>判断i是否为相应时刻(j&lt;k)的0或者1</p>
<h3 id="4-13"><a href="#4-13" class="headerlink" title="4.13"></a>4.13</h3><p>3.0 &amp; 3 &amp; 3 &amp; 3.5</p>
<h3 id="4-14"><a href="#4-14" class="headerlink" title="4.14"></a>4.14</h3><p>右值不可放在表达式左侧 &amp; 恒为true</p>
<h3 id="4-15"><a href="#4-15" class="headerlink" title="4.15"></a>4.15</h3><p>非法，得先让pi指向某个int类型的左值，然后把表达式改为dval = ival = *pi = 0即可。</p>
<h3 id="4-16"><a href="#4-16" class="headerlink" title="4.16"></a>4.16</h3><p>!=优先级高于=，(p = getPtr()) != 0 &amp; 恒为true，if(i == 1024)</p>
<h3 id="4-17"><a href="#4-17" class="headerlink" title="4.17"></a>4.17</h3><p>前置返回i+1，后置返回i然后再+1</p>
<h3 id="4-18"><a href="#4-18" class="headerlink" title="4.18"></a>4.18</h3><p>第一个没有输出，并且还会输出v.end()</p>
<h3 id="4-19"><a href="#4-19" class="headerlink" title="4.19"></a>4.19</h3><p>指针不为空且指针里不为空并往下一步走 &amp; 后两个改成ival+1</p>
<h3 id="4-20"><a href="#4-20" class="headerlink" title="4.20"></a>4.20</h3><p>解引用后迭代器+1 &amp; 迭代器里的是string无法自增 &amp; 不合法，iter无法使用点运算符 &amp; iter指向的是否为空 &amp; string无自增 &amp; iter指向是否为空，然后迭代器加一</p>
<h3 id="4-21"><a href="#4-21" class="headerlink" title="4.21"></a>4.21</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:vec)    c % <span class="number">2</span> ? c *= <span class="number">2</span> : c;</span><br></pre></td></tr></table></figure>
<h3 id="4-22"><a href="#4-22" class="headerlink" title="4.22"></a>4.22</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只用条件运算符</span></span><br><span class="line"><span class="built_in">string</span> Sscore = score &lt; <span class="number">60</span> ? <span class="string">"fail"</span> : (score &lt; <span class="number">75</span> ? <span class="string">"low pass"</span> : (score &lt; <span class="number">90</span> ? <span class="string">"pass"</span> : <span class="string">"high pass"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//用if语句</span></span><br><span class="line"><span class="keyword">if</span>(score&lt;<span class="number">60</span>)    Sscore = <span class="string">"fail"</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(score&lt;<span class="number">75</span>)    Sscore = <span class="string">"low pass"</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(score&lt;<span class="number">90</span>)    Sscore = <span class="string">"pass"</span>;</span><br><span class="line"><span class="keyword">else</span>    Sscore = <span class="string">"high pass"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="4-23"><a href="#4-23" class="headerlink" title="4.23"></a>4.23</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s = <span class="string">"word"</span>;</span><br><span class="line"><span class="built_in">string</span> p1 = s + (s[s.size() - <span class="number">1</span>] == <span class="string">'s'</span> ? <span class="string">""</span> : <span class="string">"s"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-24"><a href="#4-24" class="headerlink" title="4.24"></a>4.24</h3><p>Since we are nesting conditional operations, we are essentially grouping expressions with each others using operators of equal precedence, i.e., two ?: operators. Here, the rules of associativity dictates how the expressions of these operators are grouped together and eventually evaluated. Right associativity means that they will be grouped from right to left as such:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">finalgrade = (grade &gt; <span class="number">90</span>) ? <span class="string">"high pass"</span> : ((grade &lt; <span class="number">60</span>) ? <span class="string">"fail"</span> : <span class="string">"pass"</span>);</span><br></pre></td></tr></table></figure>
<p>Note how this grouping means that outer conditional operation will not be evaluated until the inner one is evaluated first, if the grade is less than or equal to 90.</p>
<p>If the operator were left associative we would have the following grouping instead:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">finalgrade = ((grade &gt; <span class="number">90</span>) ? <span class="string">"high pass"</span> : (grade &lt; <span class="number">60</span>)) ? <span class="string">"fail"</span> : <span class="string">"pass"</span>;</span><br></pre></td></tr></table></figure>
<p>This would result in a compile error because the outer conditional operator would have incompatible operand types: const char * and bool.</p>
<h3 id="4-25"><a href="#4-25" class="headerlink" title="4.25"></a>4.25</h3><p>-7296</p>
<h3 id="4-26"><a href="#4-26" class="headerlink" title="4.26"></a>4.26</h3><p>The C++ standard does not specify the size of integral types in bytes, but it specifies minimum ranges they must be able to hold. The minimum range of <code>unsigned int</code> is 0 to 65535. Since some implementations use only the minimum 16 bits for <code>unsigned int</code>, this could cause undefined behavior.</p>
<h3 id="4-27"><a href="#4-27" class="headerlink" title="4.27"></a>4.27</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> ull = <span class="number">3</span>, ul2 = <span class="number">7</span>;<span class="comment">// 0101 0111</span></span><br><span class="line"><span class="number">0101</span> &amp; <span class="number">0111</span> &amp; <span class="literal">true</span> &amp; <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="4-28"><a href="#4-28" class="headerlink" title="4.28"></a>4.28</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// by using method below only include what is needed.</span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// void type</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"void: nullptr_t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="built_in">std</span>::<span class="keyword">nullptr_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// boolean type</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"bool:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">bool</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// charactor type</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"char:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">char</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"wchar_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">wchar_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"char16_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">char16_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"char32_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">char32_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// integers type</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"short:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">short</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"int:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"long:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">long</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"long long:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">long</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// floating point type</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"float:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">float</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"double:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">double</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"long double:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">double</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	</span><br><span class="line"><span class="comment">// Fixed width integers</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"int8_t:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int8_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"uint8_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">uint8_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"int16_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int16_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"uint16_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">uint16_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"int32_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int32_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"uint32_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">uint32_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"int64_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int64_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"uint64_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">uint64_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h3 id="4-29"><a href="#4-29" class="headerlink" title="4.29"></a>4.29</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x[<span class="number">10</span>];   <span class="keyword">int</span> *p = x;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(x)/<span class="keyword">sizeof</span>(*x) &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//10</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(p)/<span class="keyword">sizeof</span>(*p) &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<h3 id="4-30"><a href="#4-30" class="headerlink" title="4.30"></a>4.30</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sizeof</span> x + y      <span class="comment">// (sizeof x)+y . "sizeof" has higher precedence than binary `+`.</span></span><br><span class="line"><span class="keyword">sizeof</span> p-&gt;mem[i]  <span class="comment">// sizeof(p-&gt;mem[i])</span></span><br><span class="line"><span class="keyword">sizeof</span> a &lt; b      <span class="comment">// sizeof(a) &lt; b</span></span><br><span class="line"><span class="function"><span class="keyword">sizeof</span> <span class="title">f</span><span class="params">()</span>        <span class="comment">//If `f()` returns `void`, this statement is undefined, otherwise it returns the size of return type.</span></span></span><br></pre></td></tr></table></figure>
<h3 id="4-31"><a href="#4-31" class="headerlink" title="4.31"></a>4.31</h3><p>Advice: Use Postfix Operators only When Necessary</p>
<p>Readers from a C background might be surprised that we use the prefix increment in the programs we’ve written. The reason is simple: The prefix version avoids unnecessary work. It increments the value and returns the incremented version.The postfix operator must store the original value so that it can return the unincremented value as its result. If we don’t need the unincremented value, there’s no need for the extra work done by the postfix operator.</p>
<p>For ints and pointers, the compiler can optimize away this extra work. For more complicated iterator types, this extra work potentially might be more costly. By habitually using the prefix versions, we do not have to worry about whether the performance difference matters. Moreover—and perhaps more importantly—we can express the intent of our programs more directly.</p>
<h3 id="4-32"><a href="#4-32" class="headerlink" title="4.32"></a>4.32</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> size = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> ia[size] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> *ptr = ia, ix = <span class="number">0</span>;</span><br><span class="line">    ix != size &amp;&amp; ptr != ia+size;</span><br><span class="line">    ++ix, ++ptr) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="comment">//ptr is a point, but ix is a int var</span></span><br></pre></td></tr></table></figure>
<h3 id="4-33"><a href="#4-33" class="headerlink" title="4.33"></a>4.33</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">someValue ? ++x, ++y : --x, --y</span><br><span class="line"><span class="comment">//which is same as (someValue ? ++x, ++y : --x), --y</span></span><br></pre></td></tr></table></figure>
<h3 id="4-34"><a href="#4-34" class="headerlink" title="4.34"></a>4.34</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (fval);<span class="comment">// float converted to bool</span></span><br><span class="line">dval = fval + ival;<span class="comment">// int converter to float, then the result converted to double</span></span><br><span class="line">dval + ival * cval;<span class="comment">// char converted to int, then the result converter to double</span></span><br></pre></td></tr></table></figure>
<h3 id="4-35"><a href="#4-35" class="headerlink" title="4.35"></a>4.35</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cval = <span class="string">'a'</span> + <span class="number">3</span>;<span class="comment">// char converted to int, then the result(int) converted to char</span></span><br><span class="line">fval = ui - ival * <span class="number">1.0</span>;<span class="comment">// int converted to double, the ui converted to double, the result converted to float</span></span><br><span class="line">dval = ui * fval;<span class="comment">// ui converted to float, then the result converted to double</span></span><br><span class="line">cval = ival + fval + dval;<span class="comment">// ival converted to float, float converted to double, double converted to char</span></span><br></pre></td></tr></table></figure>
<h3 id="4-36"><a href="#4-36" class="headerlink" title="4.36"></a>4.36</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i*=<span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt; d;</span><br></pre></td></tr></table></figure>
<h3 id="4-37"><a href="#4-37" class="headerlink" title="4.37"></a>4.37</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;<span class="keyword">double</span> d;<span class="keyword">const</span> <span class="built_in">string</span> *ps;<span class="keyword">char</span> *pc;<span class="keyword">void</span> *pv;</span><br><span class="line">pv = (<span class="keyword">void</span>*)ps;<span class="comment">// pv = static_cast&lt;void*&gt;(const_cast&lt;string*&gt; ps);</span></span><br><span class="line">i = <span class="keyword">int</span>(*pc);<span class="comment">// i = static_cast&lt;int&gt;(*pc);</span></span><br><span class="line">pv = &amp;d;<span class="comment">// pv = static_cast&lt;void*&gt;(&amp;d);</span></span><br><span class="line">pc = (<span class="keyword">char</span>*) pv;<span class="comment">// pc = static_cast&lt;char*&gt;(pv);</span></span><br></pre></td></tr></table></figure>
<h3 id="4-38"><a href="#4-38" class="headerlink" title="4.38"></a>4.38</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> slope = <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(j/i);<span class="comment">//the result of (j/i) converted to double and assigned to slope</span></span><br></pre></td></tr></table></figure>
<h2 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h2><h3 id="5-1"><a href="#5-1" class="headerlink" title="5.1"></a>5.1</h3><p>To be used as spaceholder</p>
<h3 id="5-2"><a href="#5-2" class="headerlink" title="5.2"></a>5.2</h3><p>块是用花括号括起来的（可能为空的）语句和声明的序列 &amp; 如果在程序的某个地方，语法上需要一条语句，但是逻辑上需要多条语句，那就用块</p>
<h3 id="5-3"><a href="#5-3" class="headerlink" title="5.3"></a>5.3</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(val &lt;= <span class="number">10</span>)</span><br><span class="line">    sum+=val,++val;</span><br></pre></td></tr></table></figure>
<h3 id="5-4"><a href="#5-4" class="headerlink" title="5.4"></a>5.4</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>::iterator iter;</span><br><span class="line"><span class="keyword">while</span>(iter != s.end())&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> status;</span><br><span class="line"><span class="keyword">while</span>(status = find(word))&#123;&#125;</span><br><span class="line"><span class="keyword">if</span>(!status)&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-5"><a href="#5-5" class="headerlink" title="5.5"></a>5.5</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; stu&#123;<span class="number">50</span>, <span class="number">60</span>, <span class="number">20</span>, <span class="number">100</span>&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; sc&#123;<span class="string">"F"</span>, <span class="string">"E"</span>, <span class="string">"D"</span>, <span class="string">"C"</span>, <span class="string">"B"</span>, <span class="string">"A"</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> c : stu)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (c &lt; <span class="number">60</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; sc[<span class="number">0</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sc[(c - <span class="number">50</span>) / <span class="number">10</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-6"><a href="#5-6" class="headerlink" title="5.6"></a>5.6</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c &lt; <span class="number">60</span> ? sc[<span class="number">0</span>] : sc[(c<span class="number">-50</span>)/<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<h3 id="5-7"><a href="#5-7" class="headerlink" title="5.7"></a>5.7</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(ival1 != ival2)</span><br><span class="line">    ival1 = ival2;<span class="comment">// add a ';'</span></span><br><span class="line"><span class="keyword">else</span> ival1 = ival2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(ival &lt; minval)&#123;</span><br><span class="line">    minval = ival;</span><br><span class="line">    occurs = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ival;</span><br><span class="line"><span class="keyword">if</span>(ival=get_value())</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"ival= "</span> &lt;&lt; ival &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"ival = 0\n"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(ival = <span class="number">0</span>)</span><br><span class="line">    ival = get_value();</span><br></pre></td></tr></table></figure>
<h3 id="5-8"><a href="#5-8" class="headerlink" title="5.8"></a>5.8</h3><p>if 比 else 多的时候， else 会与最近的 if 配套</p>
<h3 id="5-9"><a href="#5-9" class="headerlink" title="5.9"></a>5.9</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> aCnt = <span class="number">0</span>, eCnt = <span class="number">0</span>, iCnt = <span class="number">0</span>, oCnt = <span class="number">0</span>, uCnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; ch)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (ch == <span class="string">'a'</span>) ++aCnt;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">'e'</span>) ++eCnt;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">'i'</span>) ++iCnt;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">'o'</span>) ++oCnt;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">'u'</span>) ++uCnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-10"><a href="#5-10" class="headerlink" title="5.10"></a>5.10</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; ch)</span><br><span class="line">    <span class="keyword">switch</span> (ch)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'a'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'A'</span>:</span><br><span class="line">            ++aCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">            ++eCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'i'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'I'</span>:</span><br><span class="line">            ++iCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'o'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'O'</span>:</span><br><span class="line">            ++oCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'u'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'U'</span>:</span><br><span class="line">            ++uCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-11"><a href="#5-11" class="headerlink" title="5.11"></a>5.11</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; <span class="built_in">std</span>::noskipws &gt;&gt; ch)<span class="comment">// noskipws, 不忽略任意地方的空格</span></span><br><span class="line">        <span class="keyword">switch</span> (ch)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'a'</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'A'</span>:</span><br><span class="line">                ++aCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">                ++eCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'i'</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'I'</span>:</span><br><span class="line">                ++iCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'o'</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'O'</span>:</span><br><span class="line">                ++oCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'u'</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'U'</span>:</span><br><span class="line">                ++uCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">' '</span>:</span><br><span class="line">                ++spaceCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'\t'</span>:</span><br><span class="line">                ++tabCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'\n'</span>:</span><br><span class="line">                ++newLineCnt;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-12"><a href="#5-12" class="headerlink" title="5.12"></a>5.12</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; <span class="built_in">std</span>::noskipws &gt;&gt; ch)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (ch)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'a'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'A'</span>:</span><br><span class="line">            ++aCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">            ++eCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'i'</span>:</span><br><span class="line">            <span class="keyword">if</span> (prech == <span class="string">'f'</span>) ++fiCnt;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'I'</span>:</span><br><span class="line">            ++iCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'o'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'O'</span>:</span><br><span class="line">            ++oCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'u'</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'U'</span>:</span><br><span class="line">            ++uCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">' '</span>:</span><br><span class="line">            ++spaceCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'\t'</span>:</span><br><span class="line">            ++tabCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'\n'</span>:</span><br><span class="line">            ++newLineCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'f'</span>:</span><br><span class="line">            <span class="keyword">if</span> (prech == <span class="string">'f'</span>) ++ffCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'l'</span>:</span><br><span class="line">            <span class="keyword">if</span> (prech == <span class="string">'f'</span>) ++flCnt;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    prech = ch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-13"><a href="#5-13" class="headerlink" title="5.13"></a>5.13</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> aCnt = <span class="number">0</span>, eCnt = <span class="number">0</span>, iouCnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> ch = next_text();</span><br><span class="line"><span class="keyword">switch</span> (ch) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'a'</span>: aCnt++;<span class="comment">// break;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">'e'</span>: eCnt++;<span class="comment">// break;</span></span><br><span class="line">    <span class="keyword">default</span>: iouCnt++;<span class="comment">// break;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> index = some_value();</span><br><span class="line"><span class="keyword">int</span> ix;<span class="comment">// add a statement</span></span><br><span class="line"><span class="keyword">switch</span> (index) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        ix = get_value();</span><br><span class="line">        ivec[ ix ] = index;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        ix = ivec.size()<span class="number">-1</span>;</span><br><span class="line">        ivec[ ix ] = index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> evenCnt = <span class="number">0</span>, oddCnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> digit = get_num() % <span class="number">10</span>;</span><br><span class="line"><span class="keyword">switch</span> (digit) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>:</span><br><span class="line">        oddcnt++;<span class="comment">// oddCnt</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>:</span><br><span class="line">        evencnt++;<span class="comment">// evenCnt</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> ival=<span class="number">512</span>, jval=<span class="number">1024</span>, kval=<span class="number">4096</span>;</span><br><span class="line"><span class="comment">// case label must be a constant expression</span></span><br><span class="line"><span class="keyword">unsigned</span> bufsize;</span><br><span class="line"><span class="keyword">unsigned</span> swt = get_bufCnt();</span><br><span class="line"><span class="keyword">switch</span>(swt) &#123;</span><br><span class="line">    <span class="keyword">case</span> ival:</span><br><span class="line">        bufsize = ival * <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> jval:</span><br><span class="line">        bufsize = jval * <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> kval:</span><br><span class="line">        bufsize = kval * <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-14"><a href="#5-14" class="headerlink" title="5.14"></a>5.14</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; max_duplicated;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">string</span> str, prestr; <span class="built_in">cin</span> &gt;&gt; str; prestr = str)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (str == prestr)</span><br><span class="line">        ++count;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (count &gt; max_duplicated.second)</span><br><span class="line">        max_duplicated = &#123;prestr, count&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (max_duplicated.first.empty())</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"There's no duplicated string."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"the word "</span> &lt;&lt; max_duplicated.first &lt;&lt; <span class="string">" occurred "</span> &lt;&lt; max_duplicated.second + <span class="number">1</span> &lt;&lt; <span class="string">" times. "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h3 id="5-15"><a href="#5-15" class="headerlink" title="5.15"></a>5.15</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ix;</span><br><span class="line"><span class="keyword">for</span>(ix = <span class="number">0</span>; ix != sz; ++ix)&#123;&#125;</span><br><span class="line"><span class="keyword">if</span>(ix != sz);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ix;</span><br><span class="line"><span class="keyword">for</span>(; ix != sz; ++ix)&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> ix = <span class="number">0</span>; ix != sz; ++ix)&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-16"><a href="#5-16" class="headerlink" title="5.16"></a>5.16</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// while</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; i);</span><br><span class="line"></span><br><span class="line"><span class="comment">// same as for</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; <span class="built_in">cin</span> &gt;&gt; i;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// for</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != size; ++i);</span><br><span class="line"></span><br><span class="line"><span class="comment">// same as while</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i != size)</span><br><span class="line">    ++i;</span><br><span class="line"></span><br><span class="line"><span class="comment">//用for循环更舒服一些，毕竟可以规定局部变量的生命期，虽然可读性会差一些。</span></span><br></pre></td></tr></table></figure>
<h3 id="5-17"><a href="#5-17" class="headerlink" title="5.17"></a>5.17</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_pre</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;l, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l.size()&gt;r.size())</span><br><span class="line">        <span class="keyword">return</span> is_pre(r,l);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l.size();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(l[i]!=r[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; l&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; r&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (is_pre(l,r) ? <span class="string">"Yes"</span> : <span class="string">"No"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-18"><a href="#5-18" class="headerlink" title="5.18"></a>5.18</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> v1, v2;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Please enter two numbers to sum:"</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">cin</span> &gt;&gt; v1 &gt;&gt; v2)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Sum is: "</span> &lt;&lt; v1 + v2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;<span class="keyword">while</span>(<span class="built_in">cin</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;<span class="keyword">while</span>(ival = get_response());</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ival = get_response();</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    ival = get_response();</span><br><span class="line">&#125;<span class="keyword">while</span>(ival);<span class="comment">// while(ival)中的ival和do&#123;&#125;中的ival不在一个作用域中</span></span><br></pre></td></tr></table></figure>
<h3 id="5-19"><a href="#5-19" class="headerlink" title="5.19"></a>5.19</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s1,s2;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Please input two string:\n"</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (s1.size() &gt; s2.size() ? s2 : s1) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Do you wanna continue?(yes or no)\n"</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s1;</span><br><span class="line">&#125;<span class="keyword">while</span>(!s1.empty() &amp;&amp; <span class="built_in">tolower</span>(s1[<span class="number">0</span>]==<span class="string">'y'</span>));</span><br></pre></td></tr></table></figure>
<h3 id="5-20"><a href="#5-20" class="headerlink" title="5.20"></a>5.20</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> re,t;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; re)</span><br><span class="line">    <span class="keyword">if</span>(re == t)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        t=re;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">cin</span>.eof())</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"No repeated"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; re &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h3 id="5-21"><a href="#5-21" class="headerlink" title="5.21"></a>5.21</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> curr, prev;</span><br><span class="line"><span class="keyword">bool</span> no_twice = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; curr) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isupper</span>(curr[<span class="number">0</span>]) &amp;&amp; prev == curr)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; curr &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        no_twice = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    prev = curr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (no_twice)</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"no word was repeated."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h3 id="5-22"><a href="#5-22" class="headerlink" title="5.22"></a>5.22</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> sz = get_size(); sz &lt;= <span class="number">0</span>; sz = get_size());</span><br></pre></td></tr></table></figure>
<h3 id="5-23-5-25"><a href="#5-23-5-25" class="headerlink" title="5.23 ~ 5.25"></a>5.23 ~ 5.25</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt; i &gt;&gt; j;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; i / j &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>)<span class="comment">// 5.24</span></span><br><span class="line">    <span class="keyword">throw</span> runtime_error(<span class="string">"divisor is 0"</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; i / j &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i, j; <span class="built_in">cout</span> &lt;&lt; <span class="string">"Input two integers:\n"</span>, <span class="built_in">cin</span> &gt;&gt; i &gt;&gt; j; )<span class="comment">// 5.25</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (j == <span class="number">0</span>) </span><br><span class="line">            <span class="keyword">throw</span> runtime_error(<span class="string">"divisor is 0"</span>);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i / j &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (runtime_error err) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; err.what() &lt;&lt; <span class="string">"\nTry again? Enter y or n"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; c;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">cin</span> || c == <span class="string">'n'</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="第六章"><a href="#第六章" class="headerlink" title="第六章"></a>第六章</h2><h3 id="6-1"><a href="#6-1" class="headerlink" title="6.1"></a>6.1</h3><p>形参:在函数参数表中声明的局部变量，它们由函数调用中提供的实参初始化</p>
<p>实参:函数调用中提供的用于初始化函数形参的值</p>
<h3 id="6-2"><a href="#6-2" class="headerlink" title="6.2"></a>6.2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">()</span></span>&#123;<span class="comment">// string f()</span></span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">    <span class="keyword">return</span> s;<span class="comment">// string != int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f2</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span> v1,<span class="keyword">int</span> v2)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">square</span><span class="params">(<span class="keyword">double</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3"><a href="#6-3" class="headerlink" title="6.3"></a>6.3</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fact</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="function">runtime_error <span class="title">err</span><span class="params">(<span class="string">"Input cannot be a negative number"</span>)</span></span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; err.what() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i &gt; <span class="number">1</span> ? i * fact(i<span class="number">-1</span>) : i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4"><a href="#6-4" class="headerlink" title="6.4"></a>6.4</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Please input a number\n"</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; fact(n) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-5"><a href="#6-5" class="headerlink" title="6.5"></a>6.5</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myAbs</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -i;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-6"><a href="#6-6" class="headerlink" title="6.6"></a>6.6</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> count_add(<span class="keyword">int</span> n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> ctr = <span class="number">0</span>;</span><br><span class="line">    ctr += n;</span><br><span class="line">    <span class="keyword">return</span> ctr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i != <span class="number">10</span>; ++i)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; count_add(i) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-7"><a href="#6-7" class="headerlink" title="6.7"></a>6.7</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> count_add(<span class="keyword">int</span> n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> ctr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> ctr++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-8"><a href="#6-8" class="headerlink" title="6.8"></a>6.8</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chapter6.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fact</span><span class="params">(<span class="keyword">int</span> val)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </span><br><span class="line"><span class="function">T <span class="title">abs</span><span class="params">(T i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i &gt;= <span class="number">0</span> ? i : -i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-9"><a href="#6-9" class="headerlink" title="6.9"></a>6.9</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fact.cc</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Chapter6.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fact</span><span class="params">(<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (val == <span class="number">0</span> || val == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> val * fact(val<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, ret = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"input a number: "</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">1</span>) ret *= n--;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//factMain.cc</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Chapter6.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"5! is "</span> &lt;&lt; fact(<span class="number">5</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; func() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">abs</span>(<span class="number">-9.78</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-10"><a href="#6-10" class="headerlink" title="6.10"></a>6.10</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> *p,<span class="keyword">int</span> *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = *p;</span><br><span class="line">    *p = *q;</span><br><span class="line">    *q = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; i &gt;&gt; j;</span><br><span class="line">    swap(&amp;i,&amp;j);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; j;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-11"><a href="#6-11" class="headerlink" title="6.11"></a>6.11</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reset</span><span class="params">(<span class="keyword">int</span> &amp;i)</span></span>&#123;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    reset(i);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-12"><a href="#6-12" class="headerlink" title="6.12"></a>6.12</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> &amp;l,<span class="keyword">int</span> &amp;r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = l;</span><br><span class="line">    l = r;</span><br><span class="line">    r = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 引用不用解引用，也不用拷贝</span></span><br></pre></td></tr></table></figure>
<h3 id="6-13"><a href="#6-13" class="headerlink" title="6.13"></a>6.13</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(T)</span></span>;<span class="comment">// 只传值，不影响实参</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(&amp;T)</span></span>; <span class="comment">// 影响实参</span></span><br></pre></td></tr></table></figure>
<h3 id="6-14"><a href="#6-14" class="headerlink" title="6.14"></a>6.14</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reset</span><span class="params">(<span class="keyword">int</span> &amp;i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator begin, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator iter = begin; iter != end; ++iter)</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-15"><a href="#6-15" class="headerlink" title="6.15"></a>6.15</h3><p>函数不修改 s 的值，但是 occurs 的值是会变化的 &amp; 因为 c 可能是个临时变量 &amp; 那 s 就可能被改变 &amp; 无法改变 occurs 的值，occurs = 0 就会报错</p>
<h3 id="6-16"><a href="#6-16" class="headerlink" title="6.16"></a>6.16</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_empty</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s.empty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-17"><a href="#6-17" class="headerlink" title="6.17"></a>6.17</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hav_up</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isupper</span>(c))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">toUpperString</span><span class="params">(<span class="built_in">string</span>&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; c:s)&#123;</span><br><span class="line">        c = <span class="built_in">toupper</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-18"><a href="#6-18" class="headerlink" title="6.18"></a>6.18</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(matrix &amp;a,matrix &amp;b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::<span class="function">iterator <span class="title">change_val</span><span class="params">(<span class="keyword">int</span> a,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator b)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="6-19"><a href="#6-19" class="headerlink" title="6.19"></a>6.19</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">calc</span><span class="params">(<span class="keyword">double</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;,<span class="keyword">char</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">calc(<span class="number">23.4</span>,<span class="number">55.1</span>);<span class="comment">// 多了个参数</span></span><br><span class="line">count(<span class="string">"abcda"</span>,<span class="string">'a'</span>);</span><br><span class="line">calc(<span class="number">66</span>);</span><br><span class="line">sum(vec.begin(),vec.end(),<span class="number">3.8</span>);</span><br></pre></td></tr></table></figure>
<h3 id="6-20"><a href="#6-20" class="headerlink" title="6.20"></a>6.20</h3><p>If we can use <code>const</code>, just use it. If we make a parameter a plain reference when it could be a reference to <code>const</code>, the reference value maybe changed.</p>
<h3 id="6-21"><a href="#6-21" class="headerlink" title="6.21"></a>6.21</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">com</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">const</span> <span class="keyword">int</span> *<span class="keyword">const</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; *b ? a : *b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-22"><a href="#6-22" class="headerlink" title="6.22"></a>6.22</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>*&amp; p,<span class="keyword">int</span>*&amp; q)</span></span>&#123;</span><br><span class="line">	<span class="keyword">auto</span> t = p;</span><br><span class="line">    p = q;</span><br><span class="line">    q = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-23"><a href="#6-23" class="headerlink" title="6.23"></a>6.23</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>* p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p)</span><br><span class="line">        <span class="keyword">while</span>(*p)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; *p++;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>* beg,<span class="keyword">const</span> <span class="keyword">int</span>* end)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(beg != end)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *beg++ &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a[],<span class="keyword">size_t</span> size)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">size_t</span> i = <span class="number">0</span>;i &lt; size;i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> (&amp;arr)[<span class="number">2</span>])</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:arr)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j[<span class="number">2</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">char</span> ch[<span class="number">5</span>] = <span class="string">"test"</span>;</span><br><span class="line">    print(&amp;i);</span><br><span class="line">    print(ch);</span><br><span class="line">    print(begin(j),end(j));</span><br><span class="line">    print(j,end(j)-begin(j));</span><br><span class="line">    print(j);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-24"><a href="#6-24" class="headerlink" title="6.24"></a>6.24</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> (&amp;a)[<span class="number">10</span>])</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">size_t</span> i = <span class="number">0</span>;i != <span class="number">10</span>;++i)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-25-amp-6-26"><a href="#6-25-amp-6-26" class="headerlink" title="6.25 &amp; 6.26"></a>6.25 &amp; 6.26</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> str;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i != argc; ++i)</span><br><span class="line">        str += <span class="built_in">std</span>::<span class="built_in">string</span>(argv[i]) + <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; str &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-27"><a href="#6-27" class="headerlink" title="6.27"></a>6.27</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;initialzer_list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(initialzer_list&lt;<span class="keyword">int</span>&gt; <span class="keyword">const</span>&amp; il)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:il)</span><br><span class="line">        sum += i;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> il = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum(il) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-28"><a href="#6-28" class="headerlink" title="6.28"></a>6.28</h3><p><code>const string&amp;</code></p>
<h3 id="6-29"><a href="#6-29" class="headerlink" title="6.29"></a>6.29</h3><p>Depends on the type of elements of <code>initializer_list</code>. When the type is <a href="http://en.cppreference.com/w/cpp/concept/PODType" target="_blank" rel="noopener">PODType</a>, reference is unnecessary. Because <code>POD</code> is <strong>cheap to copy</strong> (such as <code>int</code>). Otherwise, Using reference(<code>const</code>) is the better choice.</p>
<h3 id="6-30"><a href="#6-30" class="headerlink" title="6.30"></a>6.30</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">str_subrange</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(str1.size() == str2.size())</span><br><span class="line">        <span class="keyword">return</span> str1 == str2;</span><br><span class="line">    <span class="keyword">auto</span> size = (str1.size() &lt; str2.size()) ? str1.size() : str2.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">decltype</span>(size) i = <span class="number">0</span>; i != size; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str1[i] != str2[i])</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">D:\WorkSpace\C++\Test.cpp: 在函数‘bool str_subrange(const string&amp;, const string&amp;)’中:</span><br><span class="line">D:\WorkSpace\C++\Test.cpp:<span class="number">38</span>:<span class="number">13</span>: 错误：在返回‘<span class="keyword">bool</span>’的函数中，返回语句不带返回值 [-fpermissive]</span><br><span class="line">             <span class="keyword">return</span>;</span><br><span class="line">             ^~~</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 6.31</span><br><span class="line"></span><br><span class="line">It is valid to return a reference when the reference does not refer to a local object. The Same applies for a reference to const, but only when the returned value is not expected to be an lvalue.</span><br><span class="line"></span><br><span class="line">### 6.32</span><br><span class="line"></span><br><span class="line">~~~C++</span><br><span class="line">int &amp;get(int *arry, int index)&#123;return arry[index];&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">    int ia[10];</span><br><span class="line">    for(int i = 0; i != 10; ++i)</span><br><span class="line">        get(ia, i) = i;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">// legal, it gave the values (0 ~ 9) to array ia.</span><br></pre></td></tr></table></figure>
<h3 id="6-33"><a href="#6-33" class="headerlink" title="6.33"></a>6.33</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Iter = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::const_iterator;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(Iter first, Iter last)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (first != last)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *first &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        print(++first, last);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-34"><a href="#6-34" class="headerlink" title="6.34"></a>6.34</h3><p>When the recursion termination condition becomes <code>var != 0</code>, two situations can happen :</p>
<ul>
<li>case 1 : If the argument is positive, recursion stops at 0.(Note : There is one extra multiplication step though as the combined expression for factorial(5) reads 5 <em> 4 </em> 3 <em> 2 </em> 1 * 1. In terms of programming languages learning, such subtle difference probably looks quite trivial. In algorithms analysis and proof, however, this extra step may be super important.)</li>
<li>case 2 : if the argument is negative, recursion would never stop. As a result, a stack overflow would occur.</li>
</ul>
<h3 id="6-35"><a href="#6-35" class="headerlink" title="6.35"></a>6.35</h3><p><code>val--</code> 的值是 <code>val</code> , 陷入死循环</p>
<h3 id="6-36-amp-6-37"><a href="#6-36-amp-6-37" class="headerlink" title="6.36 &amp; 6.37"></a>6.36 &amp; 6.37</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> (&amp;fun(<span class="built_in">string</span> (&amp;arr)[<span class="number">10</span>]))[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">string</span>[<span class="number">10</span>] strarr;</span><br><span class="line"><span class="keyword">using</span> strarr = <span class="built_in">string</span>[<span class="number">10</span>];</span><br><span class="line"><span class="function">strarr &amp;<span class="title">fun</span><span class="params">(strarr&amp; arr)</span></span>;</span><br><span class="line"></span><br><span class="line">auto fun(strarr&amp; arr) -&gt; string(&amp;)[10];</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span>[<span class="number">10</span>] sarr;</span><br><span class="line"><span class="keyword">decltype</span>(sarr) &amp;fun(strarr&amp; arr);</span><br></pre></td></tr></table></figure>
<h3 id="6-38"><a href="#6-38" class="headerlink" title="6.38"></a>6.38</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> odd[] = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> even[] = &#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>&#125;;</span><br><span class="line"><span class="keyword">decltype</span>(odd) &amp;arrPtr(<span class="keyword">int</span> i)&#123;</span><br><span class="line">    <span class="keyword">return</span> (i % <span class="number">2</span>) ? &amp;odd : &amp;even;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-39"><a href="#6-39" class="headerlink" title="6.39"></a>6.39</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 顶层const会被忽略，重复声明不会报错</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>, <span class="keyword">const</span> <span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值类型不影响重载，报错</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">reset</span><span class="params">(<span class="keyword">int</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> *<span class="title">reset</span><span class="params">(<span class="keyword">double</span> *)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="6-40"><a href="#6-40" class="headerlink" title="6.40"></a>6.40</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ff</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b = <span class="number">0</span>, <span class="keyword">int</span> c = <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">init</span><span class="params">(<span class="keyword">int</span> ht = <span class="number">24</span>,<span class="keyword">int</span> wd, <span class="keyword">char</span> bckgrnd)</span></span>;<span class="comment">// wd, bckgrnd都需要初始化</span></span><br></pre></td></tr></table></figure>
<h3 id="6-41"><a href="#6-41" class="headerlink" title="6.41"></a>6.41</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">init</span><span class="params">(<span class="keyword">int</span> ht, <span class="keyword">int</span> wd = <span class="number">80</span>, <span class="keyword">char</span> bckgrnd = <span class="string">' '</span>)</span></span>;</span><br><span class="line">init();<span class="comment">// 错误</span></span><br><span class="line">init(<span class="number">24</span>,<span class="number">10</span>);<span class="comment">// 正确</span></span><br><span class="line">init(<span class="number">14</span>,<span class="string">'*'</span>);<span class="comment">// 对，但是 wd 会变成 * 的 ASCII 值</span></span><br></pre></td></tr></table></figure>
<h3 id="6-42"><a href="#6-42" class="headerlink" title="6.42"></a>6.42</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">make_plural</span><span class="params">(<span class="keyword">size_t</span> ctr, <span class="keyword">const</span> <span class="built_in">string</span> &amp;word, <span class="keyword">const</span> <span class="built_in">string</span> &amp;ending = <span class="string">"s"</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (ctr &gt; <span class="number">1</span>) ? word + ending : word;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"singual: "</span> &lt;&lt; make_plural(<span class="number">1</span>, <span class="string">"success"</span>, <span class="string">"es"</span>) &lt;&lt; <span class="string">" "</span></span><br><span class="line">         &lt;&lt; make_plural(<span class="number">1</span>, <span class="string">"failure"</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"plural : "</span> &lt;&lt; make_plural(<span class="number">2</span>, <span class="string">"success"</span>, <span class="string">"es"</span>) &lt;&lt; <span class="string">" "</span></span><br><span class="line">         &lt;&lt; make_plural(<span class="number">2</span>, <span class="string">"failure"</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-43"><a href="#6-43" class="headerlink" title="6.43"></a>6.43</h3><p>Both two should put in a header. (a) is an inline function. (b) is the declaration of useful function. we always put them in the header.</p>
<h3 id="6-44"><a href="#6-44" class="headerlink" title="6.44"></a>6.44</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">is_shorter</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;lft, <span class="keyword">const</span> <span class="built_in">string</span> &amp;rht)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> lft.size() &lt; rht.size();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-45"><a href="#6-45" class="headerlink" title="6.45"></a>6.45</h3><p>For example, the function <code>arrPtr</code> in Exercise 6.38 and <code>make_plural</code> in Exercise 6.42 should be defined as <code>inline</code>. But the function <code>func</code> in Exercise 6.4 shouldn’t. It is not that small and it’s only being called once. Hence, it will probably not expand as inline.</p>
<h3 id="6-46-Two-explanations"><a href="#6-46-Two-explanations" class="headerlink" title="6.46 (Two explanations)"></a>6.46 (Two explanations)</h3><p>No. Because <code>std::string::size()</code> is not a <code>constexpr</code> function and <code>s1.size() == s2.size()</code> is not a constant expression.</p>
<blockquote>
<p><strong>For a</strong> non-template, non-defaulted <strong>constexpr function</strong> or a non-template, non-defaulted, non-inheriting constexpr constructor, <strong>if no argument values exist such that an invocation of the function or constructor could be an evaluated subexpression of a core constant expression (5.19), the program is ill-formed;</strong> no diagnostic required. (N3690 §7.1.5 [dcl.constexpr]/5)</p>
</blockquote>
<p>显然 <code>isShorter</code> 函数不符合 <code>constexpr</code> 函数的要求，它虽然只有一条 <code>return</code> 语句，但是返回的结果调用了标准库 <code>string</code> 类的 <code>size()</code> 函数和 <code>&lt;</code> 比较符，无法构成常量表达式，因此不能改写成 <code>constexpr</code> 函数。</p>
<blockquote>
<p>constexpr 函数是指能用于常量表达式的函数，constexpr函数的返回类型和所有形参的类型都得是字面值类型，而且函数体中必须有且只有一条 return语句。 </p>
</blockquote>
<h3 id="6-47"><a href="#6-47" class="headerlink" title="6.47"></a>6.47</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printVec</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;vec)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> NDEBUG</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"vector size: "</span> &lt;&lt; vec.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">if</span> (!vec.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> tmp = vec.back();</span><br><span class="line">        vec.pop_back();</span><br><span class="line">        printVec(vec);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; tmp &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> &#125;;</span><br><span class="line">    printVec(vec);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-48"><a href="#6-48" class="headerlink" title="6.48"></a>6.48</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; s &amp;&amp; s != sought)&#123;&#125;</span><br><span class="line">assert(s == sought);<span class="comment">// 从输入开始, cin 里一直都是有值的, 所以没啥意义</span></span><br></pre></td></tr></table></figure>
<h3 id="6-49"><a href="#6-49" class="headerlink" title="6.49"></a>6.49</h3><p>candidate function:</p>
<blockquote>
<p>Set of functions that are considered when resolving a function call. (all the functions with the name used in the call for which a declaration is in scope at the time of the call.)</p>
</blockquote>
<p>viable function:</p>
<blockquote>
<p>Subset of the candidate functions that could match a given call. It have the same number of parameters as arguments to the call, and each argument type can be converted to the corresponding parameter type.</p>
</blockquote>
<h3 id="6-50"><a href="#6-50" class="headerlink" title="6.50"></a>6.50</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f(<span class="number">2.56</span>, <span class="number">42</span>);<span class="comment">// illegal. 2.56 match the double, but 42 match the int.</span></span><br><span class="line">f(<span class="number">42</span>);<span class="comment">// match void f(int).</span></span><br><span class="line">f(<span class="number">42</span>, <span class="number">0</span>);<span class="comment">// match void f(int, int).</span></span><br><span class="line">f(<span class="number">2.56</span>, <span class="number">3.14</span>);<span class="comment">// match void f(double, double = 3.14).</span></span><br></pre></td></tr></table></figure>
<h3 id="6-51"><a href="#6-51" class="headerlink" title="6.51"></a>6.51</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"f()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"f(int)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"f(int, int)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">double</span>, <span class="keyword">double</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"f(double, double)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//f(2.56, 42); // error: 'f' is ambiguous.</span></span><br><span class="line">    f(<span class="number">42</span>);</span><br><span class="line">    f(<span class="number">42</span>, <span class="number">0</span>);</span><br><span class="line">    f(<span class="number">2.56</span>, <span class="number">3.14</span>);   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-52"><a href="#6-52" class="headerlink" title="6.52"></a>6.52</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">manip</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br><span class="line">manip(<span class="string">'a'</span>, <span class="string">'z'</span>);<span class="comment">// Match through a promotion</span></span><br><span class="line">manip(<span class="number">55.4</span>, dobj);<span class="comment">// Arithmetic type conversion</span></span><br></pre></td></tr></table></figure>
<h3 id="6-53"><a href="#6-53" class="headerlink" title="6.53"></a>6.53</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span>&amp;, <span class="keyword">int</span>&amp;)</span></span>;<span class="comment">// calls lookup(int&amp;)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>&amp;, <span class="keyword">const</span> <span class="keyword">int</span>&amp;)</span></span>;<span class="comment">// calls lookup(const int&amp;)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*)</span></span>;<span class="comment">// calls lookup(char*)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>*, <span class="keyword">const</span> <span class="keyword">char</span>*)</span></span>;<span class="comment">// calls lookup(const char*)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">char</span>*, <span class="keyword">char</span>*)</span></span>;<span class="comment">// illegal. both calls lookup(char*)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">char</span>* <span class="keyword">const</span>, <span class="keyword">char</span>* <span class="keyword">const</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="6-54"><a href="#6-54" class="headerlink" title="6.54"></a>6.54</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> pFunc1 = <span class="keyword">decltype</span>(func) *;</span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">decltype</span><span class="params">(func)</span> *pFunc2</span>;</span><br><span class="line"><span class="keyword">using</span> pFunc3 = <span class="keyword">int</span> (*)(<span class="keyword">int</span> a, <span class="keyword">int</span> b);</span><br><span class="line"><span class="keyword">using</span> pFunc4 = <span class="keyword">int</span>(<span class="keyword">int</span> a, <span class="keyword">int</span> b);</span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span><span class="params">(*pFunc5)</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"><span class="keyword">using</span> pFunc6 = <span class="keyword">decltype</span>(func);</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;pFunc1&gt; vec1;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;pFunc2&gt; vec2;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;pFunc3&gt; vec3;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;pFunc4*&gt; vec4;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;pFunc5&gt; vec5;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;pFunc6*&gt; vec6;</span><br></pre></td></tr></table></figure>
<h3 id="6-55"><a href="#6-55" class="headerlink" title="6.55"></a>6.55</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a + b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">subtract</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a - b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">multiply</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a * b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> b != <span class="number">0</span> ? a / b : <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-56"><a href="#6-56" class="headerlink" title="6.56"></a>6.56</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">decltype</span>(func) *&gt; vec&#123; add, subtract, multiply, divide &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> f : vec)</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; f(<span class="number">2</span>, <span class="number">2</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure>
<h2 id="第七章"><a href="#第七章" class="headerlink" title="第七章"></a>第七章</h2><h3 id="7-1"><a href="#7-1" class="headerlink" title="7.1"></a>7.1</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data total;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">cin</span> &gt;&gt; total.bookNo &gt;&gt; total.units_sold &gt;&gt; total.revenue)</span><br><span class="line">    &#123;</span><br><span class="line">        Sales_data trans;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; trans.bookNo &gt;&gt; trans.units_sold &gt;&gt; trans.revenue) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (total.bookNo == trans.bookNo) </span><br><span class="line">            &#123;</span><br><span class="line">                total.units_sold += trans.units_sold;</span><br><span class="line">                total.revenue += trans.revenue;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; total.bookNo &lt;&lt; <span class="string">" "</span> &lt;&lt; total.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; total.revenue &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                total = trans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; total.bookNo &lt;&lt; <span class="string">" "</span> &lt;&lt; total.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; total.revenue &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">"No data?!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-2"><a href="#7-2" class="headerlink" title="7.2"></a>7.2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> bookNo;&#125;</span><br><span class="line">    <span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;rhs)</span></span>;</span><br><span class="line">    <span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Sales_data&amp; Sales_data::combine(<span class="keyword">const</span> Sales_data &amp;rhs)&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-3"><a href="#7-3" class="headerlink" title="7.3"></a>7.3</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data total;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">cin</span> &gt;&gt; total.bookNo &gt;&gt; total.units_sold &gt;&gt; total.revenue)</span><br><span class="line">    &#123;</span><br><span class="line">        Sales_data trans;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; trans.bookNo &gt;&gt; trans.units_sold &gt;&gt; trans.revenue) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (total.isbn() == trans.isbn()) </span><br><span class="line">            &#123;</span><br><span class="line">                total.combine(trans);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; total.bookNo &lt;&lt; <span class="string">" "</span> &lt;&lt; total.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; total.revenue &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                total = trans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; total.bookNo &lt;&lt; <span class="string">" "</span> &lt;&lt; total.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; total.revenue &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">"No data?!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-4"><a href="#7-4" class="headerlink" title="7.4"></a>7.4</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-5"><a href="#7-5" class="headerlink" title="7.5"></a>7.5</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getName</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> name;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getAddress</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> address;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-6"><a href="#7-6" class="headerlink" title="7.6"></a>7.6</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="keyword">const</span>&amp; <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;</span><br><span class="line">    <span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// member functions.</span></span><br><span class="line">Sales_data&amp; Sales_data::combine(<span class="keyword">const</span> Sales_data&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// nonmember functions</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">" "</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; item.revenue;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data sum = lhs;</span><br><span class="line">    sum.combine(rhs);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-7"><a href="#7-7" class="headerlink" title="7.7"></a>7.7</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data total;</span><br><span class="line">    <span class="keyword">if</span> (read(<span class="built_in">std</span>::<span class="built_in">cin</span>, total))</span><br><span class="line">    &#123;</span><br><span class="line">        Sales_data trans;</span><br><span class="line">        <span class="keyword">while</span> (read(<span class="built_in">std</span>::<span class="built_in">cin</span>, trans)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (total.isbn() == trans.isbn())</span><br><span class="line">                total.combine(trans);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                print(<span class="built_in">std</span>::<span class="built_in">cout</span>, total) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">                total = trans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        print(<span class="built_in">std</span>::<span class="built_in">cout</span>, total) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">"No data?!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-8"><a href="#7-8" class="headerlink" title="7.8"></a>7.8</h3><p>Define <code>read</code>‘s Sales_data parameter as plain reference since it’s intended to change the <code>revenue</code>‘s value.</p>
<p>Define <code>print</code>‘s Sales_data parameter as a reference to const since it isn’t intended to change any member’s value of this object.</p>
<h3 id="7-9"><a href="#7-9" class="headerlink" title="7.9"></a>7.9</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getName</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> name;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getAddress</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> address;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">istream&amp; <span class="title">read</span><span class="params">(istream&amp; is, Person&amp; a)</span></span>&#123;</span><br><span class="line">    is &gt;&gt; a.name &gt;&gt; a.address;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ostream&amp; <span class="title">print</span><span class="params">(ostream&amp; os, Person&amp; a)</span></span>&#123;</span><br><span class="line">    os &lt;&lt; a.name &lt;&lt; <span class="string">" "</span> &lt;&lt; a.address;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-10"><a href="#7-10" class="headerlink" title="7.10"></a>7.10</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(read(read(<span class="built_in">cin</span>, data1), data2))</span><br></pre></td></tr></table></figure>
<p>we can try to divide it like that:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::istream &amp;firstStep = read(<span class="built_in">cin</span>, data1);</span><br><span class="line">sdt::istream &amp;secondStep = read(firstStep, data2);</span><br><span class="line"><span class="keyword">if</span> (secondStep)</span><br></pre></td></tr></table></figure>
<p>the condition of the <code>if</code> statement would read two Sales_data object at one time.</p>
<h3 id="7-11"><a href="#7-11" class="headerlink" title="7.11"></a>7.11</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  ex7_11.h</span></span><br><span class="line"><span class="comment">//  Exercise 7.11</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CP5_ex7_11_h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CP5_ex7_11_h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s):bookNo(s) &#123; &#125;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p):bookNo(s), units_sold(n), revenue(n*p)&#123; &#125;</span><br><span class="line">    Sales_data(<span class="built_in">std</span>::istream &amp;is);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;</span><br><span class="line">    <span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// nonmember functions</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">" "</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; item.revenue;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data sum = lhs;</span><br><span class="line">    sum.combine(rhs);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// member functions.</span></span><br><span class="line">Sales_data::Sales_data(<span class="built_in">std</span>::istream &amp;is)</span><br><span class="line">&#123;</span><br><span class="line">    read(is, *<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sales_data&amp; Sales_data::combine(<span class="keyword">const</span> Sales_data&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  ex7_11.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 7.11</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ex7_11.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data item1;</span><br><span class="line">    print(<span class="built_in">std</span>::<span class="built_in">cout</span>, item1) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Sales_data <span class="title">item2</span><span class="params">(<span class="string">"0-201-78345-X"</span>)</span></span>;</span><br><span class="line">    print(<span class="built_in">std</span>::<span class="built_in">cout</span>, item2) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Sales_data <span class="title">item3</span><span class="params">(<span class="string">"0-201-78345-X"</span>, <span class="number">3</span>, <span class="number">20.00</span>)</span></span>;</span><br><span class="line">    print(<span class="built_in">std</span>::<span class="built_in">cout</span>, item3) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Sales_data <span class="title">item4</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">cin</span>)</span></span>;</span><br><span class="line">    print(<span class="built_in">std</span>::<span class="built_in">cout</span>, item4) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-12"><a href="#7-12" class="headerlink" title="7.12"></a>7.12</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span>;</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream&amp;, Sales_data&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s):bookNo(s) &#123; &#125;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p):bookNo(s), units_sold(n), revenue(n*p)&#123; &#125;</span><br><span class="line">    Sales_data(<span class="built_in">std</span>::istream &amp;is) &#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;</span><br><span class="line">    <span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// member functions.</span></span><br><span class="line">Sales_data&amp; Sales_data::combine(<span class="keyword">const</span> Sales_data&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// nonmember functions</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-13"><a href="#7-13" class="headerlink" title="7.13"></a>7.13</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ex7_12.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Sales_data <span class="title">total</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">cin</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!total.isbn().empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::istream &amp;is = <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line">        <span class="keyword">while</span> (is) &#123;</span><br><span class="line">            <span class="function">Sales_data <span class="title">trans</span><span class="params">(is)</span></span>;</span><br><span class="line">            <span class="keyword">if</span> (!is) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (total.isbn() == trans.isbn())</span><br><span class="line">                total.combine(trans);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                print(<span class="built_in">std</span>::<span class="built_in">cout</span>, total) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">                total = trans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        print(<span class="built_in">std</span>::<span class="built_in">cout</span>, total) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">"No data?!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-14"><a href="#7-14" class="headerlink" title="7.14"></a>7.14</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sales_data() : bookNo(<span class="string">""</span>), units_sold(<span class="number">0</span>) , revenue(<span class="number">0</span>)&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-15"><a href="#7-15" class="headerlink" title="7.15"></a>7.15</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Person() = <span class="keyword">default</span>;</span><br><span class="line">    Person(<span class="keyword">const</span> <span class="built_in">string</span> s1,<span class="keyword">const</span> <span class="built_in">string</span> s2) : name(s1), address(s2)&#123;&#125;</span><br><span class="line">    Person(istream&amp; is)&#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getName</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> name;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getAddress</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> address;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">istream&amp; <span class="title">read</span><span class="params">(istream&amp; is, Person&amp; a)</span></span>&#123;</span><br><span class="line">    is &gt;&gt; a.name &gt;&gt; a.address;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ostream&amp; <span class="title">print</span><span class="params">(ostream&amp; os, Person&amp; a)</span></span>&#123;</span><br><span class="line">    os &lt;&lt; a.name &lt;&lt; <span class="string">" "</span> &lt;&lt; a.address;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-16"><a href="#7-16" class="headerlink" title="7.16"></a>7.16</h3><p>没有限制 &amp; 指定的访问级别将直到下一个访问控制符亦或结束 &amp; 所有可以被访问的部分都应该在 <code>public</code> 说明符之后 &amp; 所有不能被类外访问但可被类内访问的应在 <code>private</code> 之后</p>
<h3 id="7-17"><a href="#7-17" class="headerlink" title="7.17"></a>7.17</h3><p>有，默认访问控制不同， <code>class</code> 是 <code>private</code> ， <code>struct</code> 是 <code>public</code></p>
<h3 id="7-18"><a href="#7-18" class="headerlink" title="7.18"></a>7.18</h3><p>encapsulation is the separation of implementation from interface. It hides the implementation details of a type. (In C++, encapsulation is enforced by putting the implementation in the private part of a class)</p>
<hr>
<p>Important advantages:</p>
<ul>
<li>User code cannot inadvertently corrupt the state of an encapsulation object.</li>
<li>The implementation of an encapsulated class can change over time without requiring changes in user-level code.</li>
</ul>
<h3 id="7-19"><a href="#7-19" class="headerlink" title="7.19"></a>7.19</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Person() = <span class="keyword">default</span>;</span><br><span class="line">    Person(<span class="keyword">const</span> <span class="built_in">string</span> s1,<span class="keyword">const</span> <span class="built_in">string</span> s2) : name(s1), address(s2)&#123;&#125;</span><br><span class="line">    Person(istream&amp; is)&#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getName</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> name;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getAddress</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> address;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">istream&amp; <span class="title">read</span><span class="params">(istream&amp; is, Person&amp; a)</span></span>&#123;</span><br><span class="line">    is &gt;&gt; a.name &gt;&gt; a.address;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ostream&amp; <span class="title">print</span><span class="params">(ostream&amp; os, Person&amp; a)</span></span>&#123;</span><br><span class="line">    os &lt;&lt; a.name &lt;&lt; <span class="string">" "</span> &lt;&lt; a.address;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// the interface should be defined as public, the data shouldn't expose to outside of the class.</span></span><br></pre></td></tr></table></figure>
<h3 id="7-20"><a href="#7-20" class="headerlink" title="7.20"></a>7.20</h3><p><code>friend</code> is a mechanism by which a class grants access to its nonpublic members. They have the same rights as members.</p>
<p><strong>Pros</strong>:</p>
<ul>
<li>the useful functions can refer to class members in the class scope without needing to explicitly prefix them with the class name.</li>
<li>you can access all the nonpublic members conveniently.</li>
<li>sometimes, more readable to the users of class.</li>
</ul>
<p><strong>Cons</strong>:</p>
<ul>
<li>lessens encapsulation and therefore maintainability.</li>
<li>code verbosity, declarations inside the class, outside the class.</li>
</ul>
<h3 id="7-21"><a href="#7-21" class="headerlink" title="7.21"></a>7.21</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line"><span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span>;</span><br><span class="line"><span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s):bookNo(s) &#123; &#125;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p):bookNo(s), units_sold(n), revenue(n*p)&#123; &#125;</span><br><span class="line">    Sales_data(<span class="built_in">std</span>::istream &amp;is) &#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;</span><br><span class="line">    <span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// member functions.</span></span><br><span class="line">Sales_data&amp; Sales_data::combine(<span class="keyword">const</span> Sales_data&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// nonmember functions</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">" "</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; item.revenue;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data sum = lhs;</span><br><span class="line">    sum.combine(rhs);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-22"><a href="#7-22" class="headerlink" title="7.22"></a>7.22</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> istream&amp; <span class="title">read</span><span class="params">(istream&amp; is, Person&amp; a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> ostream&amp; <span class="title">print</span><span class="params">(ostream&amp; os, Person&amp; a)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> address;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Person() = <span class="keyword">default</span>;</span><br><span class="line">    Person(<span class="keyword">const</span> <span class="built_in">string</span> s1,<span class="keyword">const</span> <span class="built_in">string</span> s2) : name(s1), address(s2)&#123;&#125;</span><br><span class="line">    Person(istream&amp; is)&#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getName</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> name;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">auto</span> <span class="title">getAddress</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> address;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">istream&amp; <span class="title">read</span><span class="params">(istream&amp; is, Person&amp; a)</span></span>&#123;</span><br><span class="line">    is &gt;&gt; a.name &gt;&gt; a.address;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ostream&amp; <span class="title">print</span><span class="params">(ostream&amp; os, Person&amp; a)</span></span>&#123;</span><br><span class="line">    os &lt;&lt; a.name &lt;&lt; <span class="string">" "</span> &lt;&lt; a.address;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-23-amp-7-24"><a href="#7-23-amp-7-24" class="headerlink" title="7.23 &amp; 7.24"></a>7.23 &amp; 7.24</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Screen</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> pos = <span class="built_in">string</span>::size_type;</span><br><span class="line">    Screen() = defualt;</span><br><span class="line">    Screen(pos ht, pos wd) : height(ht), width(wd), contents(ht * wd, <span class="string">' '</span>) &#123;&#125;</span><br><span class="line">    Screen(pos ht, pos wd, <span class="keyword">char</span> c) : height(ht), width(wd), contents(ht * wd, c) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> contents[cur]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">(pos r, pos c)</span> </span>&#123; <span class="keyword">return</span> contents[r * width + c]; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    pos cur = <span class="number">0</span>;</span><br><span class="line">    pos height = <span class="number">0</span>, width = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> contents;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-25"><a href="#7-25" class="headerlink" title="7.25"></a>7.25</h3><p>The class below can rely on it. It goes in <em>Section 7.1.5</em>:</p>
<blockquote>
<p>the synthesized versions are unlikely to work correctly for classes that allocate resources that reside outside the class objects themselves.</p>
<p>Moreover, the synthesized versions for copy, assignment, and destruction work correctly for classes that have <strong>vector or string members</strong>.</p>
</blockquote>
<p>Hence the class below which used only built-in type and strings can rely on the default version of copy and assignment.</p>
<h3 id="7-26"><a href="#7-26" class="headerlink" title="7.26"></a>7.26</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span>;</span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Sales_data() = <span class="keyword">default</span>;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s) : bookNo(s) &#123;&#125;</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p) : bookNo(s), units_sold(n), revenue(n * p) &#123;&#125;</span><br><span class="line">    Sales_data(<span class="built_in">std</span>::istream &amp;is) &#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;;</span><br><span class="line">    <span class="function">Sales_data &amp;<span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// member functions.</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> units_sold ? revenue / units_sold : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sales_data &amp;Sales_data::combine(<span class="keyword">const</span> Sales_data &amp;rhs)</span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// nonmember functions</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">" "</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; item.revenue;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data sum = lhs;</span><br><span class="line">    sum.combine(rhs);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-27"><a href="#7-27" class="headerlink" title="7.27"></a>7.27</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Screen</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> pos = <span class="built_in">string</span>::size_type;</span><br><span class="line">    Screen() = defualt;</span><br><span class="line">    Screen(pos ht, pos wd) : height(ht), width(wd), contents(ht * wd, <span class="string">' '</span>) &#123;&#125;</span><br><span class="line">    Screen(pos ht, pos wd, <span class="keyword">char</span> c) : height(ht), width(wd), contents(ht * wd, c) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> contents[cur]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">(pos r, pos c)</span> </span>&#123; <span class="keyword">return</span> contents[r * width + c]; &#125;</span><br><span class="line">    <span class="function">Screen &amp;<span class="title">move</span><span class="params">(pos l, pos r)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cur = l * width + r;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Screen &amp;<span class="title">set</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        contents[cur] = c;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Screen &amp;<span class="title">set</span><span class="params">(pos l, pos r, <span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        contents[l * width + r] = c;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Screen &amp;<span class="title">display</span><span class="params">(ostream &amp;os)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        do_display(os);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Screen &amp;<span class="title">display</span><span class="params">(ostream &amp;os)</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        do_display(os);</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> do_display <span class="title">const</span><span class="params">(ostream &amp;os)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        os &lt;&lt; contents;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    pos cur = <span class="number">0</span>;</span><br><span class="line">    pos height = <span class="number">0</span>, width = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> contents;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-28"><a href="#7-28" class="headerlink" title="7.28"></a>7.28</h3><p>The second call to <code>display</code> couldn’t print <code>#</code> among the output, cause the call to <code>set</code> would change the <strong>temporary copy</strong>, not myScreen.</p>
<h3 id="7-29"><a href="#7-29" class="headerlink" title="7.29"></a>7.29</h3><p>Yes</p>
<h3 id="7-30"><a href="#7-30" class="headerlink" title="7.30"></a>7.30</h3><p><strong>Pros</strong></p>
<ul>
<li><p>more explicit</p>
</li>
<li><p>less scope for misreading</p>
</li>
<li><p>can use the member function parameter which name is same as the member name.</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setAddr</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;addr)</span> </span>&#123; <span class="keyword">this</span>-&gt;addr = addr; &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>Cons</strong></p>
<ul>
<li><p>more to read</p>
</li>
<li><p>sometimes redundant</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">getAddr</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>-&gt;addr; &#125; <span class="comment">// unnecessary</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="7-31"><a href="#7-31" class="headerlink" title="7.31"></a>7.31</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Y</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    Y* y = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Y</span> &#123;</span></span><br><span class="line">    X x;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-32"><a href="#7-32" class="headerlink" title="7.32"></a>7.32</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Screen</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window_mgr</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> ScreenIndex = <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Screen&gt;::size_type;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">(ScreenIndex)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Screen&gt; screens;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Screen</span> &#123;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">void</span> Window_mgr::clear(ScreenIndex);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> pos = <span class="built_in">std</span>::<span class="built_in">string</span>::size_type;</span><br><span class="line"></span><br><span class="line">    Screen() = <span class="keyword">default</span>;</span><br><span class="line">    Screen(pos ht, pos wd):height(ht), width(wd), contents(ht*wd, <span class="string">' '</span>)&#123; &#125;</span><br><span class="line">    Screen(pos ht, pos wd, <span class="keyword">char</span> c):height(ht), width(wd), contents(ht*wd, c)&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> contents[cursor]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">get</span><span class="params">(pos r, pos c)</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> contents[r*width+c]; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> Screen&amp; <span class="title">move</span><span class="params">(pos r, pos c)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> Screen&amp; <span class="title">set</span><span class="params">(<span class="keyword">char</span> c)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> Screen&amp; <span class="title">set</span><span class="params">(pos r, pos c, <span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">const</span> Screen&amp; <span class="title">display</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os)</span> <span class="keyword">const</span> </span>&#123; do_display(os); <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</span><br><span class="line">    <span class="function">Screen&amp; <span class="title">display</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os)</span> </span>&#123; do_display(os); <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">do_display</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os)</span> <span class="keyword">const</span> </span>&#123; os &lt;&lt; contents; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    pos cursor = <span class="number">0</span>;</span><br><span class="line">    pos height = <span class="number">0</span>, width = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> contents;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">void</span> Window_mgr::clear(ScreenIndex i)</span><br><span class="line">&#123; </span><br><span class="line">    <span class="keyword">if</span> (i &gt;= screens.size()) <span class="keyword">return</span>;    <span class="comment">// judge for out_of_range.</span></span><br><span class="line">    Screen &amp;s = screens[i];</span><br><span class="line">    s.contents = <span class="built_in">std</span>::<span class="built_in">string</span>(s.height * s.width, <span class="string">' '</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Screen&amp; Screen::move(pos r, pos c)</span><br><span class="line">&#123;</span><br><span class="line">    cursor = r*width + c;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Screen&amp; Screen::<span class="built_in">set</span>(<span class="keyword">char</span> c)</span><br><span class="line">&#123;</span><br><span class="line">    contents[cursor] = c;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Screen&amp; Screen::<span class="built_in">set</span>(pos r, pos c, <span class="keyword">char</span> ch)</span><br><span class="line">&#123;</span><br><span class="line">    contents[r*width+c] = ch;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-33"><a href="#7-33" class="headerlink" title="7.33"></a>7.33</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Screen::pos Screen::size() <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> height * width;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-34"><a href="#7-34" class="headerlink" title="7.34"></a>7.34</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:\WorkSpace\C++\A.cpp:<span class="number">8</span>:<span class="number">20</span>: 错误：‘pos’未声明</span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">dummy_fcn</span><span class="params">(pos height)</span></span></span><br><span class="line">                    ^~~</span><br></pre></td></tr></table></figure>
<h3 id="7-35"><a href="#7-35" class="headerlink" title="7.35"></a>7.35</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">string</span> Type;</span><br><span class="line"><span class="function">Type <span class="title">initVal</span><span class="params">()</span></span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Exercise</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">double</span> Type;</span><br><span class="line">    <span class="function">Type <span class="title">setVal</span><span class="params">(Type)</span></span>;</span><br><span class="line">    <span class="function">Type <span class="title">initVal</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">&#125;;</span><br><span class="line">Exercise::Type Exercise::initVal()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Exercise::Type Exercise::setVal(Type a)</span><br><span class="line">&#123;</span><br><span class="line">    val += a + initVal();</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-36"><a href="#7-36" class="headerlink" title="7.36"></a>7.36</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">X</span>&#123;</span></span><br><span class="line">    X(<span class="keyword">int</span> i, <span class="keyword">int</span> j): base(i), rem(i % j)&#123;&#125;</span><br><span class="line">    <span class="keyword">int</span> rem, base;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-37"><a href="#7-37" class="headerlink" title="7.37"></a>7.37</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Sales_data <span class="title">first_item</span><span class="params">(<span class="built_in">cin</span>)</span></span>;   <span class="comment">// use Sales_data(std::istream &amp;is) ; its value are up to your input.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Sales_data next;  <span class="comment">// use Sales_data(std::string s = ""); bookNo = "", cnt = 0, revenue = 0.0</span></span><br><span class="line">  <span class="function">Sales_data <span class="title">last</span><span class="params">(<span class="string">"9-999-99999-9"</span>)</span></span>; <span class="comment">// use Sales_data(std::string s = ""); bookNo = "9-999-99999-9", cnt = 0, revenue = 0.0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-38"><a href="#7-38" class="headerlink" title="7.38"></a>7.38</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sale_data(istream&amp; is = <span class="built_in">std</span>::<span class="built_in">cin</span>)&#123;read(is,*<span class="keyword">this</span>);&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-39"><a href="#7-39" class="headerlink" title="7.39"></a>7.39</h3><p>illegal. cause the call of overloaded ‘Sales_data()’ is <strong>ambiguous</strong>.</p>
<h3 id="7-40"><a href="#7-40" class="headerlink" title="7.40"></a>7.40</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Book(<span class="keyword">unsigned</span> isbn, <span class="built_in">std</span>::<span class="built_in">string</span> <span class="keyword">const</span>&amp; name, <span class="built_in">std</span>::<span class="built_in">string</span> <span class="keyword">const</span>&amp; author, <span class="built_in">std</span>::<span class="built_in">string</span> <span class="keyword">const</span>&amp; pubdate)</span><br><span class="line">        :isbn_(isbn), name_(name), author_(author), pubdate_(pubdate)</span><br><span class="line">    &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Book</span><span class="params">(<span class="built_in">std</span>::istream &amp;in)</span> </span></span><br><span class="line"><span class="function">    </span>&#123; </span><br><span class="line">        in &gt;&gt; isbn_ &gt;&gt; name_ &gt;&gt; author_ &gt;&gt; pubdate_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">unsigned</span> isbn_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> author_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> pubdate_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-41"><a href="#7-41" class="headerlink" title="7.41"></a>7.41</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ex7_41.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CP5_ex7_41_h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CP5_ex7_41_h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span>;</span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s, <span class="keyword">unsigned</span> n, <span class="keyword">double</span> p):bookNo(s), units_sold(n), revenue(n*p)</span><br><span class="line">    &#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Sales_data(const std::string&amp;, unsigned, double)"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    Sales_data() : Sales_data(<span class="string">""</span>, <span class="number">0</span>, <span class="number">0.0f</span>)</span><br><span class="line">    &#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Sales_data()"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    Sales_data(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;s) : Sales_data(s, <span class="number">0</span>, <span class="number">0.0f</span>)</span><br><span class="line">    &#123; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Sales_data(const std::string&amp;)"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br><span class="line">    </span><br><span class="line">    Sales_data(<span class="built_in">std</span>::istream &amp;is);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">isbn</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> bookNo; &#125;</span><br><span class="line">    <span class="function">Sales_data&amp; <span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp;)</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">avg_price</span><span class="params">()</span> <span class="keyword">const</span></span>;        </span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span></span><br><span class="line"><span class="keyword">double</span> Sales_data::avg_price() <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> units_sold ? revenue/units_sold : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// declarations for nonmember parts of the Sales_data interface.</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span>;</span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ex7_41.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ex7_41.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// constructor</span></span><br><span class="line">Sales_data::Sales_data(<span class="built_in">std</span>::istream &amp;is) : Sales_data()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Sales_data(istream &amp;is)"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    read(is, *<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// member functions.</span></span><br><span class="line">Sales_data&amp; Sales_data::combine(<span class="keyword">const</span> Sales_data&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold;</span><br><span class="line">    revenue += rhs.revenue;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// friend functions</span></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> price = <span class="number">0</span>;</span><br><span class="line">    is &gt;&gt; item.bookNo &gt;&gt; item.units_sold &gt;&gt; price;</span><br><span class="line">    item.revenue = price * item.units_sold;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Sales_data &amp;item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os &lt;&lt; item.isbn() &lt;&lt; <span class="string">" "</span> &lt;&lt; item.units_sold &lt;&lt; <span class="string">" "</span> &lt;&lt; item.revenue;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Sales_data <span class="title">add</span><span class="params">(<span class="keyword">const</span> Sales_data &amp;lhs, <span class="keyword">const</span> Sales_data &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Sales_data sum = lhs;</span><br><span class="line">    sum.combine(rhs);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-42"><a href="#7-42" class="headerlink" title="7.42"></a>7.42</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Book(<span class="keyword">unsigned</span> isbn, <span class="built_in">std</span>::<span class="built_in">string</span> <span class="keyword">const</span>&amp; name, <span class="built_in">std</span>::<span class="built_in">string</span> <span class="keyword">const</span>&amp; author, <span class="built_in">std</span>::<span class="built_in">string</span> <span class="keyword">const</span>&amp; pubdate)</span><br><span class="line">        :isbn_(isbn), name_(name), author_(author), pubdate_(pubdate)</span><br><span class="line">    &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Book</span><span class="params">(<span class="built_in">std</span>::istream &amp;in)</span> </span></span><br><span class="line"><span class="function">    </span>&#123; </span><br><span class="line">        in &gt;&gt; isbn_ &gt;&gt; name_ &gt;&gt; author_ &gt;&gt; pubdate_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">unsigned</span> isbn_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> author_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> pubdate_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-43"><a href="#7-43" class="headerlink" title="7.43"></a>7.43</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NoDefault</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NoDefault(<span class="keyword">int</span> i) &#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    C() : def(<span class="number">0</span>) &#123; &#125; <span class="comment">// define the constructor of C.</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    NoDefault def;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    C c;   </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;C&gt; vec(<span class="number">10</span>); </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-44"><a href="#7-44" class="headerlink" title="7.44"></a>7.44</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;NoDefault&gt; vec(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// illegal, cause there are ten elements, each would be default initialized. But no default initializer for the temporary object.</span></span><br></pre></td></tr></table></figure>
<h3 id="7-45"><a href="#7-45" class="headerlink" title="7.45"></a>7.45</h3><p>No problem. cause <code>C</code> have the default constructor.</p>
<h3 id="7-46"><a href="#7-46" class="headerlink" title="7.46"></a>7.46</h3><ul>
<li>a) A class must provide at least one constructor. (<strong>untrue</strong>, “The compiler-generated constructor is known as the synthesized default constructor.”)</li>
<li>b) A default constructor is a constructor with an empty parameter list. (<strong>untrue</strong>, A default constructor is a constructor that is used if no initializer is supplied.What’s more, A constructor that supplies default arguments for all its parameters also defines the default constructor)</li>
<li>c) If there are no meaningful default values for a class, the class should not provide a default constructor. (<strong>untrue</strong>, the class should provide.)</li>
<li>d) If a class does not define a default constructor, the compiler generates one that initializes each data member to the default value of its associated type. (<strong>untrue</strong>, only if our class does not explicitly define <strong>any constructors</strong>, the compiler will implicitly define the default constructor for us.)</li>
</ul>
<h3 id="7-47"><a href="#7-47" class="headerlink" title="7.47"></a>7.47</h3><p>Whether the conversion of a <code>string</code> to <code>Sales_data</code> is desired <strong>depends on how we think our users will use the conversion</strong>. In this case, it might be okay. The <code>string</code> in null_book probably represents a nonexistent ISBN.</p>
<p>Benefits:</p>
<ul>
<li>prevent the use of a constructor in a context that requires an implicit conversion</li>
<li>we can define a constructor which is used only with the direct form of initialization</li>
</ul>
<p>Drawbacks:</p>
<ul>
<li>meaningful only on constructors that can be called with a single argument</li>
</ul>
<h3 id="7-48"><a href="#7-48" class="headerlink" title="7.48"></a>7.48</h3><p>Both are nothing happened.</p>
<h3 id="7-49"><a href="#7-49" class="headerlink" title="7.49"></a>7.49</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(a) <span class="function">Sales_data &amp;<span class="title">combine</span><span class="params">(Sales_data)</span></span>; <span class="comment">// ok</span></span><br><span class="line">(b) <span class="function">Sales_data &amp;<span class="title">combine</span><span class="params">(Sales_data&amp;)</span></span>; <span class="comment">// [Error] no matching function for call to 'Sales_data::combine(std::string&amp;)' (`std::string&amp;` can not convert to `Sales_data` type.)  </span></span><br><span class="line">(c) <span class="function">Sales_data &amp;<span class="title">combine</span><span class="params">(<span class="keyword">const</span> Sales_data&amp;)</span> <span class="keyword">const</span></span>; <span class="comment">// The trailing const mark can't be put here, as it forbids any mutation on data members. This conflicts with combine's semantics.</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Some detailed explanation about problem (b) :It's wrong. Because combine’s parameter is a non-const reference , we can't pass a temporary to that parameter. If combine’s parameter is a reference to const , we can pass a temporary to that parameter. Like this :Sales_data &amp;combine(const Sales_data&amp;); Here we call the Sales_data combine member function with a string argument. This call is perfectly legal; the compiler automatically creates a Sales_data object from the given string. That newly generated (temporary) Sales_data is passed to combine.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="7-50"><a href="#7-50" class="headerlink" title="7.50"></a>7.50</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> &#123;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Person &amp;person)</span></span>;</span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Person &amp;person)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Person() = <span class="keyword">default</span>;</span><br><span class="line">    Person(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> sname, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> saddr):name(sname), address(saddr)&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Person</span><span class="params">(<span class="built_in">std</span>::istream &amp;is)</span></span>&#123; read(is, *<span class="keyword">this</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">getName</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">getAddress</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> address; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> address;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp;<span class="title">read</span><span class="params">(<span class="built_in">std</span>::istream &amp;is, Person &amp;person)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    is &gt;&gt; person.name &gt;&gt; person.address;</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">ostream &amp;<span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Person &amp;person)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    os &lt;&lt; person.name &lt;&lt; <span class="string">" "</span> &lt;&lt; person.address;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-51"><a href="#7-51" class="headerlink" title="7.51"></a>7.51</h3><p>Such as a function like that:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSize</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;)</span></span>;</span><br></pre></td></tr></table></figure>
<p>if vector has not defined its single-argument constructor as explicit. we can use the function like:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getSize(<span class="number">34</span>);</span><br></pre></td></tr></table></figure>
<p>What is this mean? It’s very confused.</p>
<p>But the <code>std::string</code> is different. In ordinary, we use <code>std::string</code> to replace <code>const char *</code>(the C language). so when we call a function like that:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setYourName</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">string</span>)</span></span>; <span class="comment">// declaration.</span></span><br><span class="line">setYourName(<span class="string">"pezy"</span>); <span class="comment">// just fine.</span></span><br></pre></td></tr></table></figure>
<p>it is very natural.</p>
<h3 id="7-52"><a href="#7-52" class="headerlink" title="7.52"></a>7.52</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sales_data</span> &#123;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</span><br><span class="line">    <span class="keyword">unsigned</span> units_sold;</span><br><span class="line">    <span class="keyword">double</span> revenue;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-53"><a href="#7-53" class="headerlink" title="7.53"></a>7.53</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Debug</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    constexpr Debug(bool b = true) : rt(b), io(b), other(b) &#123; &#125;</span><br><span class="line">    constexpr Debug(bool r, bool i, bool o) : rt(r), io(i), other(o) &#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">constexpr</span> <span class="keyword">bool</span> <span class="title">any</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> rt || io || other; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_rt</span><span class="params">(<span class="keyword">bool</span> b)</span> </span>&#123; rt = b; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_io</span><span class="params">(<span class="keyword">bool</span> b)</span> </span>&#123; io = b; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_other</span><span class="params">(<span class="keyword">bool</span> b)</span> </span>&#123; other = b; &#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">bool</span> rt;        <span class="comment">// runtime error</span></span><br><span class="line">    <span class="keyword">bool</span> io;        <span class="comment">// I/O error</span></span><br><span class="line">    <span class="keyword">bool</span> other;     <span class="comment">// the others</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="7-54"><a href="#7-54" class="headerlink" title="7.54"></a>7.54</h3><p>In C++11, constexpr member functions are implicitly const, so the “set_xx” functions, which will modify data members, cannot be declared as constexpr. </p>
<p>In C++14, this property no longer holds, so constexpr is suitable.</p>
<h3 id="7-55"><a href="#7-55" class="headerlink" title="7.55"></a>7.55</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// no.</span></span><br><span class="line"><span class="comment">// std::string is not a literal type, and it can be verified by following codes:</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;type_traits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Data</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> ival;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> s;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::boolalpha;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::is_literal_type&lt;Data&gt;::value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// output: false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-56"><a href="#7-56" class="headerlink" title="7.56"></a>7.56</h3><blockquote>
<p>What is a static class member?</p>
</blockquote>
<p>A class member that is <strong>associated with the class</strong>, rather than with individual objects of the class type.</p>
<blockquote>
<p>What are the advantages of static members?</p>
</blockquote>
<p>each object can no need to store a common data. And if the data is changed, each object can use the new value.</p>
<blockquote>
<p>How do they differ from ordinary members?</p>
</blockquote>
<ul>
<li>a static data member can have <strong>incomplete type</strong>.</li>
<li>we can use a static member <strong>as a default argument</strong>.</li>
</ul>
<h3 id="7-57"><a href="#7-57" class="headerlink" title="7.57"></a>7.57</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">calculate</span><span class="params">()</span> </span>&#123; amount += amount * interestRate; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">double</span> <span class="title">rate</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> interestRate; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">rate</span><span class="params">(<span class="keyword">double</span> newRate)</span> </span>&#123; interestRate = newRate; &#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> owner;</span><br><span class="line">    <span class="keyword">double</span> amount;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> interestRate;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> todayRate = <span class="number">42.42</span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">double</span> <span class="title">initRate</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> todayRate; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> Account::interestRate = initRate();</span><br></pre></td></tr></table></figure>
<h3 id="7-58"><a href="#7-58" class="headerlink" title="7.58"></a>7.58</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> rate = <span class="number">6.5</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> vecSize = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; vec(vecSize);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// example.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"example.h"</span></span></span><br><span class="line"><span class="keyword">double</span> Example::rate;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; Example::vec;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">D:\WorkSpace\C++\A.cpp:7:19: 错误：‘constexpr’ needed for in-class initialization of static data member ‘double Example::rate’ of non-integral type [-fpermissive]</span></span><br><span class="line"><span class="comment">     static double rate = 6.5;</span></span><br><span class="line"><span class="comment">                   ^</span></span><br></pre></td></tr></table></figure>
<p>D:\WorkSpace\C++\A.cpp:9:31: 错误：‘vecSize’不是一个类型<br>     static vector<double> vec(vecSize);<br>                               ^<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">D:\WorkSpace\C++\A.cpp:13:25: 错误：‘std::vector&lt;double&gt; Example::vec’ is not a static data member of ‘class Example’</span><br><span class="line"> vector&lt;double&gt; Example::vec;</span><br><span class="line">                         ^~~</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">// example.h</span><br><span class="line">class Example &#123;</span><br><span class="line">public:</span><br><span class="line">    static constexpr double rate = 6.5;</span><br><span class="line">    static const int vecSize = 20;</span><br><span class="line">    static vector&lt;double&gt; vec;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// example.C</span><br><span class="line">#include &quot;example.h&quot;</span><br><span class="line">constexpr double Example::rate;</span><br><span class="line">vector&lt;double&gt; Example::vec(Example::vecSize);</span><br></pre></td></tr></table></figure></double></p>
<h2 id="第八章"><a href="#第八章" class="headerlink" title="第八章"></a>第八章</h2>
    </div>

    
    
    
        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Yiayaz
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://yiayaz.top/posts/C++_Prime_5/" title="C++ Prime 5">https://yiayaz.top/posts/C++_Prime_5/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/C/" rel="tag"><i class="fa fa-tag"></i> C++</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/posts/CF786B_Legacy/" rel="next" title="CF786 B Legacy">
                  <i class="fa fa-chevron-left"></i> CF786 B Legacy
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
            </div>
          </div>
        
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#习题部分"><span class="nav-text">习题部分</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一章"><span class="nav-text">第一章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-9"><span class="nav-text">1.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-10"><span class="nav-text">1.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-11"><span class="nav-text">1.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-12"><span class="nav-text">1.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-14"><span class="nav-text">1.14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-16"><span class="nav-text">1.16</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第二章"><span class="nav-text">第二章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1"><span class="nav-text">2.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2"><span class="nav-text">2.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-amp-2-4"><span class="nav-text">2.3 &amp; 2.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-2-7"><span class="nav-text">2.5 ~ 2.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-8"><span class="nav-text">2.8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-9"><span class="nav-text">2.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-10"><span class="nav-text">2.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-11"><span class="nav-text">2.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-12"><span class="nav-text">2.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13"><span class="nav-text">2.13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-14"><span class="nav-text">2.14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-15"><span class="nav-text">2.15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-16"><span class="nav-text">2.16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-17"><span class="nav-text">2.17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-18"><span class="nav-text">2.18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-19"><span class="nav-text">2.19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-20"><span class="nav-text">2.20</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-21"><span class="nav-text">2.21</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-22"><span class="nav-text">2.22</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-24"><span class="nav-text">2.24</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-25"><span class="nav-text">2.25</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-26"><span class="nav-text">2.26</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-27"><span class="nav-text">2.27</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-28"><span class="nav-text">2.28</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-29"><span class="nav-text">2.29</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-30"><span class="nav-text">2.30</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-31"><span class="nav-text">2.31</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-32"><span class="nav-text">2.32</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-33-amp-2-34"><span class="nav-text">2.33 &amp; 2.34</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-35"><span class="nav-text">2.35</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-36-amp-2-37"><span class="nav-text">2.36 &amp; 2.37</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-38"><span class="nav-text">2.38</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-39"><span class="nav-text">2.39</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第三章"><span class="nav-text">第三章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1"><span class="nav-text">3.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2"><span class="nav-text">3.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3"><span class="nav-text">3.3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4"><span class="nav-text">3.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5"><span class="nav-text">3.5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6"><span class="nav-text">3.6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7"><span class="nav-text">3.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8"><span class="nav-text">3.8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-9"><span class="nav-text">3.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-10"><span class="nav-text">3.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-11"><span class="nav-text">3.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-12"><span class="nav-text">3.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-13"><span class="nav-text">3.13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-14-amp-3-15"><span class="nav-text">3.14 &amp; 3.15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-16"><span class="nav-text">3.16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-17"><span class="nav-text">3.17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-18"><span class="nav-text">3.18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-19"><span class="nav-text">3.19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-20"><span class="nav-text">3.20</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-21"><span class="nav-text">3.21</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-22"><span class="nav-text">3.22</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-23"><span class="nav-text">3.23</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-24"><span class="nav-text">3.24</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-25"><span class="nav-text">3.25</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-26"><span class="nav-text">3.26</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-27"><span class="nav-text">3.27</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-28"><span class="nav-text">3.28</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-29"><span class="nav-text">3.29</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-30"><span class="nav-text">3.30</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-31"><span class="nav-text">3.31</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-32"><span class="nav-text">3.32</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-33"><span class="nav-text">3.33</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-34"><span class="nav-text">3.34</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-35"><span class="nav-text">3.35</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-36"><span class="nav-text">3.36</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-37"><span class="nav-text">3.37</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-38"><span class="nav-text">3.38</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-39"><span class="nav-text">3.39</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-40"><span class="nav-text">3.40</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-41"><span class="nav-text">3.41</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-42"><span class="nav-text">3.42</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-43"><span class="nav-text">3.43</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-44"><span class="nav-text">3.44</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-45"><span class="nav-text">3.45</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第四章"><span class="nav-text">第四章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1"><span class="nav-text">4.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2"><span class="nav-text">4.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3"><span class="nav-text">4.3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4"><span class="nav-text">4.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5"><span class="nav-text">4.5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6"><span class="nav-text">4.6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7"><span class="nav-text">4.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8"><span class="nav-text">4.8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-9"><span class="nav-text">4.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-10"><span class="nav-text">4.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-11"><span class="nav-text">4.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-12"><span class="nav-text">4.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-13"><span class="nav-text">4.13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-14"><span class="nav-text">4.14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-15"><span class="nav-text">4.15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-16"><span class="nav-text">4.16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-17"><span class="nav-text">4.17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-18"><span class="nav-text">4.18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-19"><span class="nav-text">4.19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-20"><span class="nav-text">4.20</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-21"><span class="nav-text">4.21</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-22"><span class="nav-text">4.22</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-23"><span class="nav-text">4.23</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-24"><span class="nav-text">4.24</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-25"><span class="nav-text">4.25</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-26"><span class="nav-text">4.26</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-27"><span class="nav-text">4.27</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-28"><span class="nav-text">4.28</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-29"><span class="nav-text">4.29</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-30"><span class="nav-text">4.30</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-31"><span class="nav-text">4.31</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-32"><span class="nav-text">4.32</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-33"><span class="nav-text">4.33</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-34"><span class="nav-text">4.34</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-35"><span class="nav-text">4.35</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-36"><span class="nav-text">4.36</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-37"><span class="nav-text">4.37</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-38"><span class="nav-text">4.38</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第五章"><span class="nav-text">第五章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1"><span class="nav-text">5.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2"><span class="nav-text">5.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3"><span class="nav-text">5.3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4"><span class="nav-text">5.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5"><span class="nav-text">5.5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6"><span class="nav-text">5.6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7"><span class="nav-text">5.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-8"><span class="nav-text">5.8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-9"><span class="nav-text">5.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-10"><span class="nav-text">5.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-11"><span class="nav-text">5.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-12"><span class="nav-text">5.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-13"><span class="nav-text">5.13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-14"><span class="nav-text">5.14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-15"><span class="nav-text">5.15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-16"><span class="nav-text">5.16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-17"><span class="nav-text">5.17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-18"><span class="nav-text">5.18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-19"><span class="nav-text">5.19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-20"><span class="nav-text">5.20</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-21"><span class="nav-text">5.21</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-22"><span class="nav-text">5.22</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-23-5-25"><span class="nav-text">5.23 ~ 5.25</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第六章"><span class="nav-text">第六章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1"><span class="nav-text">6.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2"><span class="nav-text">6.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3"><span class="nav-text">6.3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4"><span class="nav-text">6.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5"><span class="nav-text">6.5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-6"><span class="nav-text">6.6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-7"><span class="nav-text">6.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-8"><span class="nav-text">6.8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-9"><span class="nav-text">6.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-10"><span class="nav-text">6.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-11"><span class="nav-text">6.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-12"><span class="nav-text">6.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-13"><span class="nav-text">6.13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-14"><span class="nav-text">6.14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-15"><span class="nav-text">6.15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-16"><span class="nav-text">6.16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-17"><span class="nav-text">6.17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-18"><span class="nav-text">6.18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-19"><span class="nav-text">6.19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-20"><span class="nav-text">6.20</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-21"><span class="nav-text">6.21</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-22"><span class="nav-text">6.22</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-23"><span class="nav-text">6.23</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-24"><span class="nav-text">6.24</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-25-amp-6-26"><span class="nav-text">6.25 &amp; 6.26</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-27"><span class="nav-text">6.27</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-28"><span class="nav-text">6.28</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-29"><span class="nav-text">6.29</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-30"><span class="nav-text">6.30</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-33"><span class="nav-text">6.33</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-34"><span class="nav-text">6.34</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-35"><span class="nav-text">6.35</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-36-amp-6-37"><span class="nav-text">6.36 &amp; 6.37</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-38"><span class="nav-text">6.38</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-39"><span class="nav-text">6.39</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-40"><span class="nav-text">6.40</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-41"><span class="nav-text">6.41</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-42"><span class="nav-text">6.42</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-43"><span class="nav-text">6.43</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-44"><span class="nav-text">6.44</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-45"><span class="nav-text">6.45</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-46-Two-explanations"><span class="nav-text">6.46 (Two explanations)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-47"><span class="nav-text">6.47</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-48"><span class="nav-text">6.48</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-49"><span class="nav-text">6.49</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-50"><span class="nav-text">6.50</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-51"><span class="nav-text">6.51</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-52"><span class="nav-text">6.52</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-53"><span class="nav-text">6.53</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-54"><span class="nav-text">6.54</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-55"><span class="nav-text">6.55</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-56"><span class="nav-text">6.56</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第七章"><span class="nav-text">第七章</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1"><span class="nav-text">7.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2"><span class="nav-text">7.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3"><span class="nav-text">7.3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4"><span class="nav-text">7.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-5"><span class="nav-text">7.5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-6"><span class="nav-text">7.6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-7"><span class="nav-text">7.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-8"><span class="nav-text">7.8</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-9"><span class="nav-text">7.9</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-10"><span class="nav-text">7.10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-11"><span class="nav-text">7.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-12"><span class="nav-text">7.12</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-13"><span class="nav-text">7.13</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-14"><span class="nav-text">7.14</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-15"><span class="nav-text">7.15</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-16"><span class="nav-text">7.16</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-17"><span class="nav-text">7.17</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-18"><span class="nav-text">7.18</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-19"><span class="nav-text">7.19</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-20"><span class="nav-text">7.20</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-21"><span class="nav-text">7.21</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-22"><span class="nav-text">7.22</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-23-amp-7-24"><span class="nav-text">7.23 &amp; 7.24</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-25"><span class="nav-text">7.25</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-26"><span class="nav-text">7.26</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-27"><span class="nav-text">7.27</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-28"><span class="nav-text">7.28</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-29"><span class="nav-text">7.29</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-30"><span class="nav-text">7.30</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-31"><span class="nav-text">7.31</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-32"><span class="nav-text">7.32</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-33"><span class="nav-text">7.33</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-34"><span class="nav-text">7.34</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-35"><span class="nav-text">7.35</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-36"><span class="nav-text">7.36</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-37"><span class="nav-text">7.37</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-38"><span class="nav-text">7.38</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-39"><span class="nav-text">7.39</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-40"><span class="nav-text">7.40</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-41"><span class="nav-text">7.41</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-42"><span class="nav-text">7.42</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-43"><span class="nav-text">7.43</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-44"><span class="nav-text">7.44</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-45"><span class="nav-text">7.45</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-46"><span class="nav-text">7.46</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-47"><span class="nav-text">7.47</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-48"><span class="nav-text">7.48</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-49"><span class="nav-text">7.49</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-50"><span class="nav-text">7.50</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-51"><span class="nav-text">7.51</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-52"><span class="nav-text">7.52</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-53"><span class="nav-text">7.53</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-54"><span class="nav-text">7.54</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-55"><span class="nav-text">7.55</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-56"><span class="nav-text">7.56</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-57"><span class="nav-text">7.57</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-58"><span class="nav-text">7.58</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第八章"><span class="nav-text">第八章</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/header2.jpg"
      alt="Yiayaz">
  <p class="site-author-name" itemprop="name">Yiayaz</p>
  <div class="site-description" itemprop="description">A boaster and a liar are cousins-german.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/yiayaz" title="GitHub &rarr; https://github.com/yiayaz" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:yiayaz@qq.com" title="E-Mail &rarr; mailto:yiayaz@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>
  <div class="cc-license motion-element" itemprop="license">
    
  
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Friends
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://0xfaner.top" title="https://0xfaner.top" rel="noopener" target="_blank">0xfaner</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://www.johnzhang.xyz" title="https://www.johnzhang.xyz" rel="noopener" target="_blank">zsgsdesign</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="http://yuki.systems" title="http://yuki.systems" rel="noopener" target="_blank">Brethland</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://pikanglong.com" title="https://pikanglong.com" rel="noopener" target="_blank">Cone Pi</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://xgsteins.fun" title="https://xgsteins.fun" rel="noopener" target="_blank">Xgsteins</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="http://blog.x3zvawq.xyz" title="http://blog.x3zvawq.xyz" rel="noopener" target="_blank">X3ZvaWQ</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://chenks12138.github.io" title="https://chenks12138.github.io" rel="noopener" target="_blank">ChengKS</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://zaiyewujiang.cn" title="https://zaiyewujiang.cn" rel="noopener" target="_blank">TinyHuang</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="http://yiling.xyz/" title="http://yiling.xyz/" rel="noopener" target="_blank">ZeroHuang</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://www.ancode.club/" title="https://www.ancode.club/" rel="noopener" target="_blank">ancode</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="http://www.zyhcoding.club/" title="http://www.zyhcoding.club/" rel="noopener" target="_blank">zyh</a>
        </li>
      
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yiayaz</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="Symbols count total">112k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:42</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
  
    <span class="post-meta-divider">|</span>
  
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
  
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  








  <script src="/js/local-search.js?v=7.4.1"></script>














  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  

</body>
</html>
